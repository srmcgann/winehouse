(function(t){function e(e){for(var s,r,i=e[0],c=e[1],l=e[2],d=0,h=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},o=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1473:function(t,e,a){"use strict";a("a561")},"27d3":function(t,e,a){},"377d":function(t,e,a){"use strict";a("9b23")},"396a":function(t,e,a){"use strict";a("5937")},"39e6":function(t,e,a){},"3a89":function(t,e,a){"use strict";a("615e")},"49d7":function(t,e,a){},"4e5e":function(t,e,a){"use strict";a("27d3")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("7a23"),n=a("9aa5"),o=a.n(n),r={id:"app"};function i(t,e,a,n,o,i){var c=Object(s["p"])("Controls"),l=Object(s["p"])("Header"),u=Object(s["p"])("Main"),d=Object(s["p"])("UserSettings"),h=Object(s["p"])("LoginPrompt"),g=Object(s["p"])("Footer");return Object(s["l"])(),Object(s["f"])("div",r,["embed"!==o.state.mode?(Object(s["l"])(),Object(s["d"])(c,{key:0,state:o.state},null,8,["state"])):Object(s["e"])("",!0),"embed"!==o.state.mode?(Object(s["l"])(),Object(s["d"])(l,{key:1,state:o.state},null,8,["state"])):Object(s["e"])("",!0),Object(s["i"])(u,{state:o.state},null,8,["state"]),o.state.userSettingsVisible?(Object(s["l"])(),Object(s["d"])(d,{key:2,state:o.state},null,8,["state"])):Object(s["e"])("",!0),o.state.loginPromptVisible?(Object(s["l"])(),Object(s["d"])(h,{key:3,state:o.state},null,8,["state"])):Object(s["e"])("",!0),"embed"!=o.state.mode?(Object(s["l"])(),Object(s["d"])(g,{key:4,state:o.state},null,8,["state"])):Object(s["e"])("",!0)])}var c=a("ade3"),l=(a("d81d"),a("ac1f"),a("1276"),a("841c"),a("d3b7"),a("e9c4"),a("b0c0"),a("5319"),a("4de4"),a("498a"),a("99af"),function(t){return Object(s["n"])("data-v-1bf912d7"),t=t(),Object(s["m"])(),t}),u={key:0},d={key:0,class:"flex"},h={key:1,style:{"font-size":"1.5em"}},g=l((function(){return Object(s["g"])("br",null,null,-1)})),p=l((function(){return Object(s["g"])("br",null,null,-1)})),f=l((function(){return Object(s["g"])("br",null,null,-1)})),b=l((function(){return Object(s["g"])("br",null,null,-1)})),m=l((function(){return Object(s["g"])("br",null,null,-1)})),k=Object(s["h"])("OOPS! "),j=l((function(){return Object(s["g"])("br",null,null,-1)})),O=l((function(){return Object(s["g"])("br",null,null,-1)})),y=l((function(){return Object(s["g"])("br",null,null,-1)})),D=Object(s["h"])("this track could not be found! "),w=[g,p,f,b,m,k,j,O,y,D],v={key:1,style:{"font-size":"1.5em"}},Q=l((function(){return Object(s["g"])("br",null,null,-1)})),P=l((function(){return Object(s["g"])("br",null,null,-1)})),T=l((function(){return Object(s["g"])("br",null,null,-1)})),x=l((function(){return Object(s["g"])("br",null,null,-1)})),U=l((function(){return Object(s["g"])("br",null,null,-1)})),A=Object(s["h"])("OOPS!! "),C=l((function(){return Object(s["g"])("br",null,null,-1)})),I=l((function(){return Object(s["g"])("br",null,null,-1)})),S=l((function(){return Object(s["g"])("br",null,null,-1)})),N=Object(s["h"])("this track could not be found! "),R=[Q,P,T,x,U,A,C,I,S,N],L={key:0,class:"flex"},M={key:1,style:{"font-size":"1.5em"}},B=l((function(){return Object(s["g"])("br",null,null,-1)})),E=l((function(){return Object(s["g"])("br",null,null,-1)})),V=l((function(){return Object(s["g"])("br",null,null,-1)})),F=Object(s["h"])("OOPS! "),H=l((function(){return Object(s["g"])("br",null,null,-1)})),z=Object(s["h"])("we seem to be missing some tracks! "),W=l((function(){return Object(s["g"])("br",null,null,-1)})),q=l((function(){return Object(s["g"])("br",null,null,-1)})),J=Object(s["h"])(" :("),K=l((function(){return Object(s["g"])("br",null,null,-1)})),X=l((function(){return Object(s["g"])("br",null,null,-1)})),G=Object(s["h"])(" maybe try a different search? "),Y=[B,E,V,F,H,z,W,q,J,K,X,G],$={key:0},Z={key:0,class:"flex"},_={key:1,style:{"font-size":"1.5em"}},tt=l((function(){return Object(s["g"])("br",null,null,-1)})),et=l((function(){return Object(s["g"])("br",null,null,-1)})),at=l((function(){return Object(s["g"])("br",null,null,-1)})),st=l((function(){return Object(s["g"])("br",null,null,-1)})),nt=Object(s["h"])("OOPS! "),ot=l((function(){return Object(s["g"])("br",null,null,-1)})),rt=l((function(){return Object(s["g"])("br",null,null,-1)})),it=l((function(){return Object(s["g"])("br",null,null,-1)})),ct=Object(s["h"])("uploaded any tracks yet! "),lt=l((function(){return Object(s["g"])("br",null,null,-1)})),ut=l((function(){return Object(s["g"])("br",null,null,-1)})),dt=l((function(){return Object(s["g"])("br",null,null,-1)})),ht=Object(s["h"])(" :( "),gt={key:1},pt={key:0,class:"flex"},ft={key:1,style:{"font-size":"2em"}},bt=l((function(){return Object(s["g"])("br",null,null,-1)})),mt=l((function(){return Object(s["g"])("br",null,null,-1)})),kt=l((function(){return Object(s["g"])("br",null,null,-1)})),jt={style:{width:"300px","padding-left":"50px","margin-left":"auto","margin-right":"auto","text-align":"left"}},Ot={key:2,style:{"font-size":"1.5em"}},yt=l((function(){return Object(s["g"])("br",null,null,-1)})),Dt=Object(s["h"])("DRAT! "),wt=l((function(){return Object(s["g"])("br",null,null,-1)})),vt=l((function(){return Object(s["g"])("br",null,null,-1)})),Qt=Object(s["h"])("your search did not return anything! "),Pt=l((function(){return Object(s["g"])("br",null,null,-1)})),Tt=l((function(){return Object(s["g"])("br",null,null,-1)})),xt=Object(s["h"])(" maybe try something more general,"),Ut=l((function(){return Object(s["g"])("br",null,null,-1)})),At=Object(s["h"])('like "whitehot robot" '),Ct=l((function(){return Object(s["g"])("br",null,null,-1)})),It=l((function(){return Object(s["g"])("br",null,null,-1)})),St=l((function(){return Object(s["g"])("br",null,null,-1)})),Nt=Object(s["h"])(" :( "),Rt=[yt,Dt,wt,vt,Qt,Pt,Tt,xt,Ut,At,Ct,It,St,Nt];function Lt(t,e,a,n,o,r){var i=Object(s["p"])("Track");return Object(s["l"])(),Object(s["f"])("div",{class:Object(s["j"])(["main",{footerPadding:"track"==a.state.mode}])},[""==a.state.search.string?(Object(s["l"])(),Object(s["f"])("div",u,["track"!=a.state.mode&&"embed"!=a.state.mode||!a.state.tracks.length||null==a.state.tracks[0]||"undefined"==typeof a.state.tracks[0].id?!a.state.loaded||"track"!=a.state.mode&&"embed"!=a.state.mode?Object(s["e"])("",!0):(Object(s["l"])(),Object(s["f"])("div",v,R)):(Object(s["l"])(),Object(s["f"])("div",{key:0,class:Object(s["j"])(["trackDiv",{highTop:a.state.showControls}])},[a.state.tracks.length?(Object(s["l"])(),Object(s["f"])("div",d,[(Object(s["l"])(!0),Object(s["f"])(s["a"],null,Object(s["o"])(a.state.tracks,(function(t){return Object(s["l"])(),Object(s["d"])(i,{key:t.id,track:t,state:a.state},null,8,["track","state"])})),128))])):!a.state.loaded||"track"!=a.state.mode&&"embed"!=a.state.mode?Object(s["e"])("",!0):(Object(s["l"])(),Object(s["f"])("div",h,w))],2)),"default"==a.state.mode?(Object(s["l"])(),Object(s["f"])("div",{key:2,class:Object(s["j"])(["trackDiv",{highTop:a.state.showControls}])},[r.filteredLandingPageTracks.length?(Object(s["l"])(),Object(s["f"])("div",L,[(Object(s["l"])(!0),Object(s["f"])(s["a"],null,Object(s["o"])(r.filteredLandingPageTracks,(function(t){return Object(s["l"])(),Object(s["d"])(i,{key:t.id,track:t,state:a.state},null,8,["track","state"])})),128))])):a.state.loaded?(Object(s["l"])(),Object(s["f"])("div",M,Y)):Object(s["e"])("",!0)],2)):Object(s["e"])("",!0),"u"==a.state.mode?(Object(s["l"])(),Object(s["f"])("div",{key:3,class:Object(s["j"])(["trackDiv",{highTop:a.state.showControls}])},[a.state.loaded&&a.state.user.name?(Object(s["l"])(),Object(s["f"])("div",$,[r.filteredUserTracks.length?(Object(s["l"])(),Object(s["f"])("div",Z,[(Object(s["l"])(!0),Object(s["f"])(s["a"],null,Object(s["o"])(r.filteredUserTracks,(function(t){return Object(s["l"])(),Object(s["d"])(i,{key:t.id,track:t,state:a.state},null,8,["track","state"])})),128))])):a.state.loaded?(Object(s["l"])(),Object(s["f"])("div",_,[tt,et,at,st,nt,ot,rt,Object(s["h"])(Object(s["r"])(a.state.user.name)+" has not",1),it,ct,lt,ut,dt,ht])):Object(s["e"])("",!0)])):Object(s["e"])("",!0)],2)):Object(s["e"])("",!0)])):(Object(s["l"])(),Object(s["f"])("div",gt,[Object(s["g"])("div",{class:Object(s["j"])(["trackDiv",{highTop:a.state.showControls}])},[a.state.search.audiocloudTracks.length?(Object(s["l"])(),Object(s["f"])("div",pt,[(Object(s["l"])(!0),Object(s["f"])(s["a"],null,Object(s["o"])(a.state.search.audiocloudTracks,(function(t){return Object(s["l"])(),Object(s["d"])(i,{key:t.id,track:t,state:a.state},null,8,["track","state"])})),128))])):Object(s["e"])("",!0),a.state.search.inProgress?(Object(s["l"])(),Object(s["f"])("div",ft,[bt,mt,kt,Object(s["g"])("div",jt,Object(s["r"])(r.searchingText),1)])):!a.state.search.audiocloudTracks.length&&a.state.loaded?(Object(s["l"])(),Object(s["f"])("div",Ot,Rt)):Object(s["e"])("",!0)],2)]))],2)}a("38cf"),a("a4d3"),a("e01a");var Mt=function(t){return Object(s["n"])("data-v-145854d0"),t=t(),Object(s["m"])(),t},Bt={key:0},Et={key:1},Vt={key:0,class:"embedCode"},Ft={class:"embedCodeInner"},Ht={key:3,class:"trackElem",style:{width:"400px","text-align":"center"}},zt=["innerHTML"],Wt=Mt((function(){return Object(s["g"])("div",{style:{clear:"both"}},null,-1)})),qt=Mt((function(){return Object(s["g"])("td",{class:"tdLeft"},"duration ",-1)})),Jt={class:"tdRight"},Kt=["innerHTML"],Xt=Mt((function(){return Object(s["g"])("td",{class:"tdLeft"},null,-1)})),Gt={class:"tdRight"},Yt=["href","download"],$t=["href","download"],Zt={ref:"canvas",class:"canvas"},_t={key:4,class:"commentContainer"},te=Mt((function(){return Object(s["g"])("div",{class:"commentsHeader",style:{background:"linear-gradient(90deg, #102f, #1023, #0000)",display:"inline-block","padding-right":"200px","padding-left":"10px",color:"#2f4","margin-bottom":"10px",height:"25px","line-height":"20px","margin-left":"-10px"}}," comments ",-1)})),ee={key:0},ae={class:"commentMain"},se=["innerHTML"],ne={key:0,class:"commentUserName",style:{"font-size":"20px"}},oe=["href"],re=Mt((function(){return Object(s["g"])("br",null,null,-1)})),ie={key:1,style:{display:"inline-block",width:"calc(100% + 30px)"}},ce=["onInput","onUpdate:modelValue"],le=["onClick"],ue=["onClick"],de={key:2,style:{display:"inline-block",width:"calc(100% + 10px)",left:"0!important","padding-right":"0"}},he=["innerHTML"],ge=["onClick"],pe=Mt((function(){return Object(s["g"])("div",{style:{clear:"both"}},null,-1)})),fe={key:0,style:{"text-align":"center"}},be=Mt((function(){return Object(s["g"])("span",{style:{display:"inline-block","font-size":"32px"}},"...",-1)})),me={key:1},ke=Mt((function(){return Object(s["g"])("div",{style:{"text-align":"center"}},"-- no comments --",-1)})),je={key:0,style:{"text-align":"center"}},Oe={key:2},ye=Mt((function(){return Object(s["g"])("div",{style:{clear:"both"}},null,-1)}));function De(t,e,a,n,o,r){var i=Object(s["q"])("linkified");return"undefined"==a.track.trackName||""==a.track.audioFile?(Object(s["l"])(),Object(s["f"])("div",Bt," file not found! ")):(Object(s["l"])(),Object(s["f"])("div",Et,[Object(s["g"])("div",{class:Object(s["j"])(["trackContainer",{singleTrack:"track"==a.state.mode,embedTrack:"embed"==a.state.mode}]),ref:"trackContainer"+a.track.id},[o.showEmbedCode?(Object(s["l"])(),Object(s["f"])("div",Vt,[Object(s["g"])("div",Ft,[Object(s["g"])("div",{class:Object(s["j"])(["embedcodetext",{pulse:o.pulse}]),ref:"embedCodeText"+a.track.id},Object(s["r"])(r.embedCodeText),3),Object(s["g"])("button",{onClick:e[0]||(e[0]=function(t){return r.copyDivToClipboard("embedCodeText"+a.track.id)}),class:Object(s["j"])(["embedbutton copytoclipbutton",{pulse:o.pulse}])},"     copy",2),Object(s["g"])("button",{onClick:e[1]||(e[1]=function(t){return o.showEmbedCode=!1}),class:"embedbutton"},"close")])])):Object(s["e"])("",!0),Object(s["i"])(s["b"],{name:"fadePulse"},{default:Object(s["v"])((function(){return[o.showPulse?(Object(s["l"])(),Object(s["f"])("div",{key:0,style:{position:"absolute",width:"100%",background:"#0f0","z-index":"-1","margin-left":"-10px","margin-top":"-10px","border-radius":"10px"},ref:"pulse"+a.track.id},null,512)):Object(s["e"])("",!0)]})),_:1}),a.state.isAdmin?(Object(s["l"])(),Object(s["f"])("button",{key:1,class:"deleteTrackButton",onClick:e[2]||(e[2]=function(t){return r.deleteTrack(a.track)})})):Object(s["e"])("",!0),Object(s["g"])("div",{class:"avatar",style:Object(s["k"])("float: left;max-width: 100px;background-image:url(https://jsbot.cantelope.org/uploads/VCNU1.png);width:100px;height:100px;background-repeat: no-repeat; background-position: center center; background-size: cover;")},null,4),(Object(s["l"])(),Object(s["f"])("div",Ht,[Object(s["g"])("span",{class:"trackTitle",innerHTML:a.track.trackName,style:{"font-size":"26px","font-style":"oblique",color:"#0f8","word-break":"break-word"}},null,8,zt)])),Wt,Object(s["g"])("table",null,[Object(s["e"])("",!0),Object(s["e"])("",!0),Object(s["g"])("tr",null,[qt,Object(s["g"])("td",Jt,[Object(s["g"])("span",{class:"date",innerHTML:r.formattedDuration()},null,8,Kt)])]),Object(s["g"])("tr",null,[Xt,Object(s["g"])("td",Gt,[Object(s["e"])("",!0),1==a.track.allowDownload||a.state.loggedinUserName.toUpperCase()==a.track.author.toUpperCase()||a.state.isAdmin?(Object(s["l"])(),Object(s["f"])("a",{key:1,class:"fileLink",href:r.filteredHREF,download:a.track.trackName,style:{"margin-left":"10px"}}," download file ",8,Yt)):Object(s["e"])("",!0),1==a.track.allowDownload||a.state.loggedinUserName.toUpperCase()==a.track.author.toUpperCase()||a.state.isAdmin?(Object(s["l"])(),Object(s["f"])("button",{key:2,class:"fileLink",href:a.track.audioFile,download:a.track.trackName,style:{"margin-left":"10px","padding-left":"12px","padding-right":"12px","min-width":"initial"},onClick:e[5]||(e[5]=function(t){return o.showEmbedCode=!0})}," embed code ",8,$t)):Object(s["e"])("",!0)])])]),Object(s["g"])("table",null,[Object(s["e"])("",!0)]),Object(s["g"])("div",{class:Object(s["j"])(["audioContainer",{embedAudioContainer:"embed"==a.state.mode}])},[a.track.playing?(Object(s["l"])(),Object(s["f"])("button",{key:1,class:Object(s["j"])(["pausebutton",{disabledPauseButton:!a.track.canPlay}]),onClick:e[11]||(e[11]=function(t){return r.playPauseTrack()})},null,2)):(Object(s["l"])(),Object(s["f"])("button",{key:0,class:Object(s["j"])(["playbutton",{disabledPlayButton:!a.track.canPlay}]),onClick:e[10]||(e[10]=function(t){return r.playPauseTrack()}),title:"play/pause track [space]"},null,2)),Object(s["g"])("button",{onClick:e[12]||(e[12]=function(t){return o.loop=!o.loop}),class:Object(s["j"])(["smallControlButton loopButton",{highlighted:o.loop}]),title:"loop track"},null,2),Object(s["g"])("button",{class:"smallControlButton resetButton",onClick:e[13]||(e[13]=function(t){return r.resetTrack()}),title:"start of track (or prev. track if pos<dur/20) [left arrow key]"}),Object(s["g"])("button",{class:"smallControlButton jumpToNextButton",onClick:e[14]||(e[14]=function(t){a.track.mp3.currentTime=Math.max(6e6,a.track.mp3.duration-.1),o.skipRedraw&&(o.B=[],r.Draw(o.skipRedraw=!1))}),title:"play next track [right arrow key]"}),Object(s["g"])("canvas",Zt,null,512)],2),"embed"!=a.state.mode?(Object(s["l"])(),Object(s["f"])("div",_t,[te,a.track.comments.length?(Object(s["l"])(),Object(s["f"])("div",ee,[(Object(s["l"])(!0),Object(s["f"])(s["a"],null,Object(s["o"])(r.filteredComments,(function(t){return Object(s["l"])(),Object(s["f"])("div",null,[Object(s["g"])("div",ae,[Object(s["g"])("span",{class:"timestamp",innerHTML:r.processedTimestamp(t.date),style:{float:"right",display:"inline-block!important"}},null,8,se),"undefined"!=typeof a.state.userInfo[t.userID]?(Object(s["l"])(),Object(s["f"])("span",ne,[Object(s["g"])("div",{class:Object(s["j"])([{bumpUp:-1!==a.state.userAgent.toUpperCase().indexOf("FIREFOX")},"commentAvatar"]),style:Object(s["k"])("background-image:url("+a.state.getAvatar(t.userID)+");width:50px!important;height:50px!important;background-repeat: no-repeat; background-position: center center; background-size: cover;")},null,6),Object(s["g"])("a",{href:a.state.baseURL+"/u/"+a.state.userInfo[t.userID].name,target:"_blank",style:{color:"#4dc!important","font-style":"oblique","margin-left":"5px"}},Object(s["r"])(a.state.userInfo[t.userID].name),9,oe)])):Object(s["e"])("",!0),re,t.editing&&a.state.loggedin?(Object(s["l"])(),Object(s["f"])("div",ie,[Object(s["w"])(Object(s["g"])("input",{maxlength:"1024",type:"text",ref_for:!0,ref:"comment"+t.id,class:Object(s["j"])(["commentInput textInput",{success:1==t.updated,failure:-1==t.updated}]),style:{width:"calc(100% - 100px)"},onInput:function(e){return r.editComment(t)},"onUpdate:modelValue":function(e){return t.text=e}},null,42,ce),[[s["u"],t.text]]),t.userID==a.state.loggedinUserID||a.state.isAdmin?(Object(s["l"])(),Object(s["f"])("button",{key:0,onClick:function(e){return t.editing=!t.editing},class:"commentEditButton",style:{"min-width":"0",margin:"0","margin-top":"-1px",height:"25px",left:"0"}},null,8,le)):Object(s["e"])("",!0),Object(s["g"])("button",{onClick:function(e){return r.deleteComment(t,a.track)},class:"commentDeleteButton",style:{"min-width":"0",margin:"0","margin-top":"-1px",height:"25px",left:"0"}},null,8,ue)])):(Object(s["l"])(),Object(s["f"])("div",de,[Object(s["w"])(Object(s["g"])("span",{class:"commentText",innerHTML:t.text,style:{width:"calc(100% - 68px)"}},null,8,he),[[i]]),t.userID==a.state.loggedinUserID||a.state.isAdmin?(Object(s["l"])(),Object(s["f"])("button",{key:0,onClick:function(e){return r.toggleEditMode(t)},class:"commentEditButton",style:{"min-width":"0",margin:"0","margin-top":"-1px",height:"25px",left:"0",display:"inline-block","background-image":"url(https://jsbot.cantelope.org/uploads/2cyWBg.png)"}},null,8,ge)):Object(s["e"])("",!0)])),pe])])})),256)),r.moreComments?(Object(s["l"])(),Object(s["f"])("div",fe,[be,Object(s["g"])("button",{class:"loadCommentsButton",onClick:e[15]||(e[15]=function(t){return r.incrComments()})},"load more comments")])):Object(s["e"])("",!0)])):(Object(s["l"])(),Object(s["f"])("div",me,[ke,a.state.loggedin?Object(s["e"])("",!0):(Object(s["l"])(),Object(s["f"])("div",je,"(log in to comment on this track)"))])),a.state.loggedin?(Object(s["l"])(),Object(s["f"])("div",Oe,[Object(s["g"])("input",{maxlength:"1024",onKeyup:e[16]||(e[16]=Object(s["x"])((function(t){return r.postComment(a.track.id)}),["enter"])),ref:"newComment"+a.track.id,placeholder:"say something...",class:"commentInput newComment textInput",style:{"margin-left":"0","margin-top":"16px"}},null,544),Object(s["g"])("button",{onClick:e[17]||(e[17]=function(t){return r.postComment(a.track.id)}),style:{background:"#1ca",padding:"0","padding-bottom":"4px",margin:"0","margin-left":"25px",display:"block","margin-top":"14px","min-width":"initial","padding-left":"10px","padding-right":"10px",float:"left"}},"post"),ye])):Object(s["e"])("",!0)])):Object(s["e"])("",!0)],2)]))}a("cb29"),a("0eb6"),a("b7ef"),a("8bd4"),a("84c3"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("5b81");var we={name:"Main",props:["state","track"],data:function(){return{t:0,launch:!1,loop:!1,XMLLoaded:!1,XMLResponse:null,trackAmplitude:[],marquisTimer:null,showComments:3,skipRedraw:!1,moreCommentsVal:5,pulse:!1,showEmbedCode:!1,x:null,B:[],P:[],contextCreated:!1,audioCtx:null,updated:{title:0,favicon:0},trackdata:[],c:null,percentLoaded:0,showPulse:!0,duration:0,trackAnalyzed:!1,bufferLength:null,analyzer:null,fftsize:256}},methods:{createAudioContext:function(){this.audioCtx=new AudioContext;this.XMLResponse;this.trackAnalyzed=!0},copyDivToClipboard:function(t){var e=this,a=document.createRange();a.selectNode(this.$refs[t]),window.getSelection().removeAllRanges(),window.getSelection().addRange(a),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.pulse=!0,setTimeout((function(){return e.pulse=!1}),200)},resetTrack:function(){this.track.mp3.currentTime<this.track.mp3.duration/20?(this.skipRedraw&&(this.B=[],this.Draw(this.skipRedraw=!1)),this.state.playPreviousTrack()):(this.track.mp3.currentTime=0,this.skipRedraw&&(this.B=[],this.Draw(this.skipRedraw=!1)))},doMarquis:function(){if(this.track.playing){var t=this.track.author+" - "+this.track.trackName,e=this.marquisTimer++%t.length;document.title=t.substring(e)+"  -  "+t.substring(0,e)}},incrComments:function(){this.showComments+=this.moreCommentsVal},toggleEditMode:function(t){var e=this;t.editing=!t.editing,t.editing&&this.$nextTick((function(){e.$refs["comment"+t.id].focus(),e.$refs["comment"+t.id].select()}))},deleteComment:function(t,e){if(confirm("are you SURE you want to delete this comment?!?!?\n\n\nTHIS ACTION IS IRREVERSIBLE!")){var a=t.id,s={userName:this.state.loggedinUserName,passhash:this.state.passhash,commentID:a};fetch(this.state.baseURL+"/deleteComment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(t){t[0]&&(e.comments=e.comments.filter((function(t){return t.id!=a})))}))}},editComment:function(t){var e=t.id,a=this.$refs["comment"+e].value,s={userName:this.state.loggedinUserName,comment:a,passhash:this.state.passhash,commentID:e};fetch(this.state.baseURL+"/updateComment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(e){e[0]?(t.updated=1,setTimeout((function(){return t.updated=0}),1e3)):(t.updated=-1,setTimeout((function(){return t.updated=0}),1e3))}))},postComment:function(t){var e=this,a=this.$refs["newComment"+t].value;if(a.length){var s={userName:this.state.loggedinUserName,comment:a,passhash:this.state.passhash,trackID:t};fetch(this.state.baseURL+"/postComment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(s){if(s[0]){var n={userID:e.state.loggedinUserID,text:a,trackID:t,id:s[1],date:s[2]};if(e.state.search.string)e.state.search.audiocloudTracks.filter((function(e){return e.id==t}))[0].comments.push(n);else switch(e.state.mode){case"u":e.state.user.audiocloudTracks.filter((function(e){return e.id==t}))[0].comments.push(n);break;case"default":e.state.landingPage.audiocloudTracks.filter((function(e){return e.id==t}))[0].comments.push(n);break;case"track":e.state.tracks.filter((function(e){return e.id==t}))[0].comments.push(n);break}e.$refs["newComment"+t].value=""}}))}},processedTimestamp:function(t){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=Array(7).fill(""),s=[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11],n=new Date(Date.parse(t.replace(/-/g,"/"))),o=""+n.getMinutes();return 1==o.length&&(o="0"+o),s[n.getHours()]+":"+o+(n.getHours<12?"AM":"PM")+" - "+a[n.getDay()]+e[n.getMonth()]+" "+n.getDate()+" "+n.getFullYear()},deleteTrack:function(t){var e=this;if(confirm('\n\n\nAre you SURE you want to delete this track??!?!\n\n\n     Track: "'+t.trackName+'"\n     created: '+this.formattedDate(t.date)+"\n\n\nThis action is IRREVERSIBLE!!!!")){this.track.mp3.pause();var a={userName:this.state.loggedinUserName,trackID:+t.id,passhash:this.state.passhash};fetch(this.state.baseURL+"/deleteTrack.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(a){if(e.state.search.string)e.state.search.audiocloudTracks=e.state.search.audiocloudTracks.filter((function(e){return e.id!=t.id}));else switch(e.state.mode){case"u":e.state.user.audiocloudTracks=e.state.user.audiocloudTracks.filter((function(e){return e.id!=t.id}));break;case"default":e.state.landingPage.audiocloudTracks=e.state.landingPage.audiocloudTracks.filter((function(e){return e.id!=t.id}));break;case"track":e.state.tracks=e.state.tracks.filter((function(e){return e.id!=t.id}));break}}))}},updateTrackItem:function(t,e){var a,s=this;if(this.state.search.string)a=this.state.search.audiocloudTracks.filter((function(e){return e.id==t}))[0][e];else switch(this.state.mode){case"default":a=this.state.landingPage.audiocloudTracks.filter((function(e){return e.id==t}))[0][e];break;case"track":a=this.state.tracks.filter((function(e){return e.id==t}))[0][e];break;case"u":a=this.state.user.audiocloudTracks.filter((function(e){return e.id==t}))[0][e];break}"private"==e&&(a=a?0:1),"allowDownload"==e&&(a=a?0:1);var n={userName:this.state.loggedinUserName,item:e,newItemVal:a,passhash:this.state.passhash,trackID:t};fetch(this.state.baseURL+"/updateTrackItem.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(t){t[0]?(s.updated[e]=1,setTimeout((function(){return s.updated[e]=0}),1e3)):(s.updated[e]=-1,setTimeout((function(){return s.updated[e]=0}),1e3))}))},formattedDuration:function(){return(this.duration/60/60|0)+" hr : "+(this.duration/60|0)+" min : "+(60*(this.duration/60-(this.duration/60|0))|0)+" seconds"},formattedDate:function(t){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date(t),s=""+a.getMinutes();return 1==s.length&&(s="0"+s),e[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear()+" • "+(a.getHours()%12+1)+":"+s+" "+(a.getHours()<12?"AM":"PM")},playPauseTrack:function(){this.contextCreated||(this.contextCreated=!0,this.createAudioContext()),this.track.playing?this.track.playing=!1:(this.state.pauseVisible(),this.track.playing=!0)},Draw:function(){if(!this.skipRedraw){var t=this.t,e=this.x,a=this.c;Math.sin,Math.cos;if(e.fillStyle="#0006",e.fillRect(0,0,a.width,a.height),e.lineJoin=e.lineCap="round",this.trackAnalyzed&&"undefined"!==typeof this.track.mp3&&"undefined"!==typeof this.track.leftChannelData){e.fillStyle="#000",e.fillRect(0,0,a.width,a.height);var s=256;e.strokeStyle="#affa",e.beginPath();var n=this.track.mp3.currentTime/this.track.mp3.duration;e.lineTo(a.width*n,0),e.lineTo(a.width*n,a.height),e.lineWidth=2+a.width/400|0,e.stroke();for(var o=s;o--;){var r=void 0,i=void 0,c=void 0,l=void 0;this.track.playing?(r="hsla(".concat(360/s*o+300*-t+0,", 99%,50%,.75)"),c="hsla(".concat(360/s*o+300*-t+180,", 99%,50%,.75)")):(r="hsla(".concat(360/s*o/4+50*t+0,", 15%, 50%, .75)"),c="hsla(".concat(360/s*o/4+50*t+180,", 15%, 50%, .75)")),i="hsla(".concat(360/s*o/4+50*t+90,", 15%, 50%, .75)"),l="hsla(".concat(360/s*o/4+50*t+270,", 15%, 50%, .75)"),e.beginPath(),e.lineTo(a.width/s*o,a.height/2);var u=this.track.leftChannelData.length/s*o|0,d=Math.abs(this.track.leftChannelData[u])*a.height/2;e.lineTo(a.width/s*o,a.height/2+d),e.strokeStyle=o<=n*s?r:i,e.stroke(),e.beginPath(),e.lineTo(a.width/s*o,a.height/2),u=this.track.rightChannelData.length/s*o|0,d=Math.abs(this.track.rightChannelData[u])*a.height/2,e.lineTo(a.width/s*o,a.height/2-d),e.strokeStyle=o<=n*s?c:l,e.stroke()}if(this.trackAnalyzed){for(var h=20;h--;)this.B.push([a.width*n,Math.random()*a.height,.01]);this.B=this.B.map((function(t){var a=(t[0]-=t[2]/2)-2,s=t[1];return t[2]+=.05+t[2]/25,e.fillStyle="hsla(200,99%,80%,".concat(.05/(1+Math.pow(1+t[2],2)/40),")"),e.fillRect(a,s-2.5,5,5),t})).filter((function(t){return t[0]>0}))}"undefined"!=typeof this.track.mp3.currentTime&&(e.font="16px Play",e.fillStyle="#4fc8",e.fillText(this.formattedCurrentTime(),a.width-120,16))}else if(this.XMLLoaded){e.fillStyle="#0fa2",e.fillRect(0,0,a.width*this.percentLoaded/100,a.height),e.font="26px Play",e.fillStyle="#2fa8";var g=0;e.fillText(this.launch?"loaded - hit play":"<"+"-".repeat((60*t|0)%16)+"loading"+"-".repeat(g=(60*t|0)%16)+">",a.width/2-60-9.3*g,a.height/2+10)}else{var p;e.fillStyle="#0fa2",e.fillRect(0,0,a.width*this.percentLoaded/100,a.height),e.font="26px Play",e.fillStyle="#2fa8",e.fillText("<"+"-".repeat((60*t|0)%16)+"loading"+"-".repeat(p=(60*t|0)%16)+">",a.width/2-60-9.3*p,a.height/2+10)}this.t+=1/60,!this.track.playing&&this.trackAnalyzed&&(this.skipRedraw=!0),requestAnimationFrame(this.Draw)}},formattedCurrentTime:function(){var t=this.track.mp3.currentTime/60/60|0,e=60*(this.track.mp3.currentTime/60/60-t)|0,a=60*(60*(this.track.mp3.currentTime/60/60-t)-e)|0;t=""+t,e=""+e,a=""+a,0==t.length&&(t="00"),1==t.length&&(t="0"+t),0==e.length&&(e="00"),1==e.length&&(e="0"+e),0==a.length&&(a="00"),1==a.length&&(a="0"+a);var s,n=(+t?t+":":"")+e+":"+a;return t=(s=this.track.mp3.duration-this.track.mp3.currentTime)/60/60|0,e=60*(s/60/60-t)|0,a=60*(60*(s/60/60-t)-e)|0,t=""+t,e=""+e,a=""+a,0==t.length&&(t="00"),1==t.length&&(t="0"+t),0==e.length&&(e="00"),1==e.length&&(e="0"+e),0==a.length&&(a="00"),1==a.length&&(a="0"+a),n+"  ( -"+(+t?t+":":"")+e+":"+a+")"},stringToUint:function(t){t=btoa(unescape(encodeURIComponent(t)));for(var e=t.split(""),a=[],s=0;s<e.length;s++)a.push(e[s].charCodeAt(0));return new Uint16Array(a)}},computed:{filteredHREF:function(){return window.location.origin+"/dlproxy.php?url="+this.track.audioFile},embedCodeText:function(){return'<iframe style="transform:scale(.75);width:640px;height:290px;border:none;vertical-align:top;" src="'+this.state.baseURL+"/"+this.track.audioFile.replaceAll("?autoplay","")+'"></iframe>'},filteredComments:function(){var t=this;return this.track.comments.filter((function(e,a){return a<t.showComments}))},moreComments:function(){return this.track.comments.length>this.showComments}},watch:{"track.jump":function(t){var e=this;if(t){var a=this.$refs["trackContainer"+this.track.id];window.scroll(0,a.offsetTop-80+(this.state.showControls?-160:0)),this.showPulse=!0,this.$nextTick((function(){e.$refs["pulse"+e.track.id].style.width=e.$refs["trackContainer"+e.track.id].clientWidth+"px",e.$refs["pulse"+e.track.id].style.height=e.$refs["trackContainer"+e.track.id].clientHeight+"px"})),this.$nextTick((function(){e.showPulse=!1}))}},"track.playing":function(t){var e=this;t?this.$nextTick((function(){e.track.mp3.play(),e.state.curPlayId=e.track.id,e.$nextTick((function(){e.skipRedraw&&(e.skipRedraw=!1,e.Draw())}))})):this.track.mp3.pause()}},beforeUnmount:function(){"undefined"!==typeof this.track.mp3&&(this.track.mp3.pause(),this.track.mp3.src="")},mounted:function(){var t=this;if(console.log(this.track),window.onmessage=function(e){var a=e.message?"message":"data";if("string"==typeof e[a]&&-1!=e[a].indexOf("userInteracted")){var s=JSON.parse(e[a]);s.userInteracted?(t.track.playing||t.playPauseTrack(),setTimeout((function(){t.launch=!1}),1e3)):setTimeout((function(){t.launch=!0}),200)}},this.track.audioFile){if(this.track.jump=0,setInterval((function(){t.doMarquis()}),300),this.c=this.$refs.canvas,this.c.addEventListener("click",(function(e){if(t.trackAnalyzed){var a=e.offsetX/t.c.clientWidth;t.track.mp3.currentTime=t.track.mp3.duration*a,t.state.pauseVisible(),t.track.playing||(t.track.playing=!1,t.$nextTick((function(){t.skipRedraw,t.track.playing=!0})))}})),this.c.width=this.c.clientWidth,this.c.height=this.c.clientHeight,window.addEventListener("resize",(function(){t.c.width=t.c.clientWidth,t.c.height=t.c.clientHeight,t.skipRedraw&&(t.skipRedraw=!1,t.Draw())})),this.x=this.c.getContext("2d"),this.t=0,"undefined"==typeof this.track.mp3){this.track.mp3=new Audio,this.track.mp3.addEventListener("loadeddata",(function(){setTimeout((function(){-1==t.track.audioFile.indexOf("?autoplay")?t.launch=!0:t.track.playing||t.playPauseTrack()}),1e3)})),this.track.mp3.addEventListener("ended",(function(){t.loop||parent.postMessage("ended","*"),t.state.playall&&!t.loop?t.state.playNextTrack():t.loop?(t.track.mp3.currentTime=0,t.track.playing=!1,t.$nextTick((function(){t.track.playing=!0}))):t.track.playing=!1})),this.track.mp3.addEventListener("playing",(function(){parent.postMessage("playing","*")})),this.track.mp3.addEventListener("canplay",(function(){"undefined"!==typeof t.track.mp3&&(t.duration=t.track.mp3.duration,t.track.canPlay=!0,"track"==t.state.mode&&(t.track.playing=!1,t.$nextTick((function(){t.track.playing=!0}))))})),this.track.mp3.src=this.track.audioFile;var e=window.AudioContext||window.webkitAudioContext,a=new XMLHttpRequest;a.open("GET",this.track.audioFile,!0),a.responseType="arraybuffer",a.onprogress=function(e){t.percentLoaded=Math.round(e.loaded/e.total*100*100)/100},a.onload=function(){t.XMLResponse=a.response,t.audioCtx=new e,t.XMLLoaded=!0;var s=t.XMLResponse;t.audioCtx.decodeAudioData(s,(function(e){t.track.leftChannelData=e.getChannelData(0),t.track.rightChannelData=e.getChannelData(1)}))},"track"==this.state.mode&&document.getElementsByTagName("html")[0].scroll(0,document.getElementsByTagName("html")[0].clientHeight/3.5),a.send()}else this.trackAnalyzed=!0;this.track.playing&&this.$nextTick((function(){t.track.mp3.play()})),this.Draw()}}},ve=(a("d9b6"),a("6b0d")),Qe=a.n(ve);const Pe=Qe()(we,[["render",De],["__scopeId","data-v-145854d0"]]);var Te=Pe,xe={name:"Main",components:{Track:Te},props:["state"],methods:{},computed:{filteredLandingPageTracks:function(){return this.state.landingPage.audiocloudTracks},filteredUserTracks:function(){var t=this;return null!=this.state.user&&"undefined"!==typeof this.state.user.audiocloudTracks?this.state.user.audiocloudTracks.filter((function(e){return!e.private||t.state.loggedinUserName.toUpperCase()==t.state.user.name.toUpperCase()||t.state.isAdmin})):[]},searchingText:function(){return"Searching"+".".repeat((20*this.state.globalT|0)%8)}},mounted:function(){}};a("3a89"),a("396a");const Ue=Qe()(xe,[["render",Lt],["__scopeId","data-v-1bf912d7"]]);var Ae=Ue,Ce=function(t){return Object(s["n"])("data-v-2661741f"),t=t(),Object(s["m"])(),t},Ie={class:"controlsWorkingSpace"},Se={key:0},Ne={class:"navContainer"},Re={key:0,class:"advancedControls"},Le=Ce((function(){return Object(s["g"])("div",{style:{position:"absolute","z-index":"-1!important",background:"#246",width:"505px",height:"70px",opacity:".5","margin-top":"-10px","margin-left":"60px","border-radius":"5px"}},null,-1)})),Me={for:"allWords",key:"allwordslabel",class:"checkboxLabel",style:{float:"left",padding:"0",margin:"0","margin-left":"40px","padding-top":"5px","margin-bottom":"0px",display:"inline-block"}},Be=["disabled","checked"],Ee=Ce((function(){return Object(s["g"])("span",{class:"checkmark",style:{"margin-left":"-30px"}},null,-1)})),Ve=Ce((function(){return Object(s["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"require all words",-1)})),Fe=Ce((function(){return Object(s["g"])("br",null,null,-1)})),He={for:"exact",key:"exactlabel",class:"checkboxLabel",style:{float:"left","margin-left":"40px","text-align":"left"}},ze=Ce((function(){return Object(s["g"])("span",{class:"checkmark",style:{"margin-left":"-30px"}},null,-1)})),We=Ce((function(){return Object(s["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0","margin-left":"-35px"}},"exact",-1)})),qe=Ce((function(){return Object(s["g"])("div",{style:{clear:"both"}},null,-1)})),Je={key:0,style:{position:"absolute",left:"50%","margin-left":"-100px","margin-top":"-80px"}},Ke={for:"playall",class:"checkboxLabel",style:{margin:"0",padding:"0","margin-left":"25px","padding-left":"32px"}},Xe=Ce((function(){return Object(s["g"])("span",{class:"checkmark",style:{"margin-top":"-5px"}},null,-1)})),Ge=Ce((function(){return Object(s["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"play all",-1)})),Ye={for:"shuffle",class:"checkboxLabel",style:{display:"inline-block",margin:"0",padding:"0","margin-left":"50px"}},$e=Ce((function(){return Object(s["g"])("span",{class:"checkmark",style:{"margin-left":"-30px","margin-top":"-5px"}},null,-1)})),Ze=Ce((function(){return Object(s["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"shuffle",-1)})),_e={for:"disco",class:"checkboxLabel",style:{display:"inline-block",margin:"0","margin-left":"24px","padding-left":"32px"}},ta=Ce((function(){return Object(s["g"])("span",{class:"checkmark",style:{"margin-left":"0px","margin-top":"-5px"}},null,-1)})),ea=Ce((function(){return Object(s["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"disco",-1)})),aa=Ce((function(){return Object(s["g"])("option",{value:"1"},"1",-1)})),sa=Ce((function(){return Object(s["g"])("option",{value:"2"},"2",-1)})),na=Ce((function(){return Object(s["g"])("option",{value:"4"},"4",-1)})),oa=Ce((function(){return Object(s["g"])("option",{value:"6"},"6",-1)})),ra=Ce((function(){return Object(s["g"])("option",{value:"10"},"10",-1)})),ia=Ce((function(){return Object(s["g"])("option",{value:"20"},"20",-1)})),ca=Ce((function(){return Object(s["g"])("option",{style:{background:"#ff0",color:"#000"},value:"30"},"30",-1)})),la=Ce((function(){return Object(s["g"])("option",{style:{background:"#f80",color:"#000"},value:"40"},"40",-1)})),ua=Ce((function(){return Object(s["g"])("option",{style:{background:"#800",color:"#fff"},value:"50"},"50",-1)})),da=[aa,sa,na,oa,ra,ia,ca,la,ua],ha={key:2,class:"maxResultsLabel",style:{color:"#ff8"}},ga={key:1,class:"advancedControls"},pa={for:"disco",style:{"margin-left":"20px"}},fa=Object(s["h"])("disco ");function ba(t,e,a,n,o,r){return a.state.showUploadModal?Object(s["e"])("",!0):(Object(s["l"])(),Object(s["f"])("div",{key:0,class:Object(s["j"])(["controls",{shortControlsContainer:!a.state.showControls}])},[Object(s["g"])("div",Ie,[Object(s["g"])("div",{onClick:e[0]||(e[0]=function(){var t;return a.state.toggleShowControls&&(t=a.state).toggleShowControls.apply(t,arguments)}),title:"show additional controls [ESC]",class:Object(s["j"])({showImg:!a.state.showControls,hideImg:a.state.showControls,bump:"track"==a.state.mode}),style:{"margin-top":"-70px"}},null,2),Object(s["i"])(s["b"],{name:"fade"},{default:Object(s["v"])((function(){return[a.state.showControls?(Object(s["l"])(),Object(s["f"])("div",Se,[Object(s["g"])("div",Ne,["track"!==a.state.mode?(Object(s["l"])(),Object(s["f"])("div",Re,[Le,Object(s["w"])(Object(s["g"])("input",{id:"searchInput",type:"text",spellcheck:"false",ref:"searchInput","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.state.search.string=t}),onInput:e[2]||(e[2]=function(t){return a.state.beginSearch(1)}),placeholder:"search",class:"textInput searchInput",style:{display:"inline-block",float:"left","margin-bottom":"25px","margin-left":"75px","margin-top":"15px",position:"relative!important: z-index:10000!important"}},null,544),[[s["u"],a.state.search.string]]),Object(s["g"])("label",Me,[Object(s["w"])(Object(s["g"])("input",{type:"checkbox",disabled:a.state.search.exact,checked:a.state.search.allWords||a.state.search.exact,id:"allWords","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.state.search.allWords=t}),onInput:e[4]||(e[4]=function(t){return a.state.beginSearch(1)})},null,40,Be),[[s["s"],a.state.search.allWords]]),Ee,Ve]),Fe,Object(s["g"])("label",He,[Object(s["w"])(Object(s["g"])("input",{type:"checkbox",id:"exact","onUpdate:modelValue":e[5]||(e[5]=function(t){return a.state.search.exact=t}),onInput:e[6]||(e[6]=function(t){return a.state.beginSearch(1)})},null,544),[[s["s"],a.state.search.exact]]),ze,We]),qe,a.state.search.hits?(Object(s["l"])(),Object(s["f"])("div",Je," ("+Object(s["r"])(a.state.search.hits)+" hits) ",1)):Object(s["e"])("",!0),Object(s["g"])("label",Ke,[Object(s["w"])(Object(s["g"])("input",{type:"checkbox",id:"playall","onUpdate:modelValue":e[7]||(e[7]=function(t){return a.state.playall=t}),onInput:e[8]||(e[8]=function(t){return r.updateUserPrefs("audiocloudPlayAll")})},null,544),[[s["s"],a.state.playall]]),Xe,Ge]),Object(s["g"])("label",Ye,[Object(s["w"])(Object(s["g"])("input",{type:"checkbox",id:"shuffle","onUpdate:modelValue":e[9]||(e[9]=function(t){return a.state.shuffle=t}),onInput:e[10]||(e[10]=function(t){return r.updateUserPrefs("audiocloudShuffle")})},null,544),[[s["s"],a.state.shuffle]]),$e,Ze]),Object(s["g"])("label",_e,[Object(s["w"])(Object(s["g"])("input",{type:"checkbox",id:"disco","onUpdate:modelValue":e[11]||(e[11]=function(t){return a.state.disco=t}),onInput:e[12]||(e[12]=function(t){return r.updateUserPrefs("audiocloudDisco")})},null,544),[[s["s"],a.state.disco]]),ta,ea]),a.state.loggedin&&"track"!=a.state.mode?Object(s["w"])((Object(s["l"])(),Object(s["f"])("select",{key:1,style:{"font-size":"18px","margin-left":"20px","vertical-align":"top","margin-top":"-4px",border:"1px solid #8ff4",display:"inline-block",position:"relative"},"onUpdate:modelValue":e[13]||(e[13]=function(t){return a.state.maxResultsPerPage=t}),onChange:e[14]||(e[14]=function(t){return r.updateUserPrefs("audiocloudNumTracksPerPage")})},da,544)),[[s["t"],a.state.maxResultsPerPage]]):Object(s["e"])("",!0),a.state.loggedin?(Object(s["l"])(),Object(s["f"])("span",ha,"max results")):Object(s["e"])("",!0),Object(s["g"])("button",{class:"navButton",style:{"margin-left":"10px","font-size":"12px","min-height":"20px",height:"20px",width:"50px","margin-top":"-1px","vertical-align":"top"},title:"hotkeys",onClick:e[15]||(e[15]=function(t){return r.showHotkeys()})},"hotkeys")])):(Object(s["l"])(),Object(s["f"])("div",ga,[Object(s["g"])("label",pa,[Object(s["w"])(Object(s["g"])("input",{id:"disco",onInput:e[16]||(e[16]=function(t){return r.updateUserPrefs("audiocloudDisco")}),type:"checkbox","onUpdate:modelValue":e[17]||(e[17]=function(t){return a.state.disco=t})},null,544),[[s["s"],a.state.disco]]),fa])]))])])):Object(s["e"])("",!0)]})),_:1})])],2))}var ma={name:"Controls",props:["state"],data:function(){return{}},methods:{showHotkeys:function(){alert("hotkeys cheat-sheet...\n\n    [space] : play/pause current track\n    [right-key] : advance to the next song (shuffle applies)\n    [left-key] : restart track if pos > 5%, else prev. track (shuffle applies)\n    [shift+right-key] : advance track by 10s\n    [shift+left-key] : rewind track by 10s\n    [ESC] : show/hide advanced controls section\n    [enter] : jump to current playing track")},updateUserPrefs:function(t){var e=this;this.$nextTick((function(){var a;switch(t){case"audiocloudPlayAll":a=e.state.playall?0:1;break;case"audiocloudShuffle":a=e.state.shuffle?0:1;break;case"audiocloudDisco":a=e.state.disco?0:1;break;case"audiocloudNumTracksPerPage":a=e.state.maxResultsPerPage;break}var s={userName:e.state.loggedinUserName,passhash:e.state.passhash,pref:t,newval:a};fetch(e.state.baseURL+"/updatePrefs.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(e){"audiocloudNumTracksPerPage"==t&&window.location.reload()}))}))},doReg:function(){this.state.showRegister=!0,this.state.showLoginPrompt()}},watch:{"state.showControls":function(t){var e=this;t&&this.$nextTick((function(){e.$refs.searchInput.focus(),e.$refs.searchInput.select()}))}},computed:{trackPlaying:function(){var t=!1;return"undefined"!=typeof this.state.currentTrack&&"function"==typeof this.state.currentTrack&&this.state.currentTrack()&&(t=!!this.state.currentTrack().length),t},totalPages:function(){switch(this.state.mode){case"u":return+this.state.totalUserPages;case"default":return+this.state.totalPages}},curPage:function(){switch(this.state.mode){case"u":return+this.state.curUserPage;case"default":return+this.state.curPage}},pagenumber:function(){var t;switch(this.state.mode){case"u":t="Page "+(this.state.curUserPage+1)+" of "+this.state.totalUserPages;break;case"default":t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;break}return t}}};a("e8ae"),a("af21");const ka=Qe()(ma,[["render",ba],["__scopeId","data-v-2661741f"]]);var ja=ka,Oa=function(t){return Object(s["n"])("data-v-22bb691c"),t=t(),Object(s["m"])(),t},ya={class:"header",id:"header"},Da={key:0,class:"uploadProgressContainer"},wa=Oa((function(){return Object(s["g"])("br",null,null,-1)})),va={class:"progressBar"},Qa={class:"progressBarInnerOutline"},Pa=["innerHTML"],Ta={class:"uploadModalInner"},xa=Oa((function(){return Object(s["g"])("span",{style:{"font-size":"2em",color:"#888"}},"upload tracks",-1)})),Ua=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Aa=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Ca=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Ia=Object(s["h"])("valid formats"),Sa=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Na=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Ra=Object(s["h"])(" MP3, OGG, WAV"),La=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Ma=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Ba=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Ea=Oa((function(){return Object(s["g"])("span",{style:{"font-size":"1.4em",color:"#ff0"}},"drop file(s) here...",-1)})),Va=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Fa=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Ha=Object(s["h"])("or"),za=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Wa=Oa((function(){return Object(s["g"])("br",null,null,-1)})),qa=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Ja=Oa((function(){return Object(s["g"])("br",null,null,-1)})),Ka={key:2,style:{display:"inline-block",position:"absolute"}},Xa={key:3,style:{display:"inline-block",position:"absolute"}},Ga=["disabled"],Ya=["disabled"],$a=["disabled"],Za=["disabled"],_a={class:"workingSpace"},ts={class:"loggedinDiv"},es={key:0,class:"loggedInTitle"},as=Oa((function(){return Object(s["g"])("span",{style:{color:"#afe","font-size":"16px"}},"Welcome,",-1)})),ss=Oa((function(){return Object(s["g"])("br",null,null,-1)})),ns=["href","innerHTML"],os=["href"],rs=Oa((function(){return Object(s["g"])("div",{class:"appNameText"},[Object(s["g"])("div",{style:{display:"inline-block",transform:"scalex(1.2)","margin-right":"10px"}}," whitehot "),Object(s["g"])("br"),Object(s["g"])("div",{style:{display:"inline-block",transform:"scalex(2.05)","margin-right":"30px"}}," robot "),Object(s["g"])("br"),Object(s["h"])(" audiocloud ")],-1)})),is=Oa((function(){return Object(s["g"])("div",{class:"clear"},null,-1)})),cs=[rs,is];function ls(t,e,a,n,o,r){var i=Object(s["p"])("Account");return Object(s["l"])(),Object(s["f"])("div",ya,[o.showUploadProgress?(Object(s["l"])(),Object(s["f"])("div",Da,[wa,Object(s["h"])("uploading "+Object(s["r"])(o.filesUploading.length)+" file"+Object(s["r"])(o.filesUploading.length>1?"s":"")+"... ",1),(Object(s["l"])(!0),Object(s["f"])(s["a"],null,Object(s["o"])(o.filesUploading,(function(t){return Object(s["l"])(),Object(s["f"])("div",va,[Object(s["g"])("div",Qa,[Object(s["g"])("div",{class:"progressBarInner",style:Object(s["k"])("width:calc("+t.perc+"%)")},null,4)]),Object(s["g"])("span",{class:"progressText",innerHTML:t.trackName+" - "+Math.round(100*t.perc)/100+"%"},null,8,Pa)])})),256))])):Object(s["e"])("",!0),a.state.showUploadModal?(Object(s["l"])(),Object(s["f"])("div",{key:1,class:Object(s["j"])(["uploadModal",{dragover:o.dragover}]),onDrop:e[2]||(e[2]=Object(s["y"])((function(){return r.processDrop&&r.processDrop.apply(r,arguments)}),["prevent"])),onDragover:e[3]||(e[3]=Object(s["y"])((function(){return r.dragOverHandler&&r.dragOverHandler.apply(r,arguments)}),["prevent"])),onDragleave:e[4]||(e[4]=Object(s["y"])((function(){return r.dragLeaveHandler&&r.dragLeaveHandler.apply(r,arguments)}),["prevent"]))},[Object(s["g"])("div",Ta,[xa,Ua,Aa,Ca,Ia,Sa,Na,Ra,La,Ma,Ba,Ea,Va,Fa,Ha,za,Wa,Object(s["g"])("button",{onClick:e[0]||(e[0]=function(t){return r.uploadManual()}),style:{background:"#0f0","max-width":"400px"}},"manually select one from your device"),qa,Ja,Object(s["g"])("button",{onClick:e[1]||(e[1]=function(t){return a.state.showUploadModal=!1}),style:{background:"#400",color:"#fee","font-weight":"400"}},"cancel")])],34)):Object(s["e"])("",!0),a.state.loggedin?(Object(s["l"])(),Object(s["f"])("div",Xa,["track"!=a.state.mode?(Object(s["l"])(),Object(s["f"])("button",{key:0,class:Object(s["j"])(["navButton jumpButton",{disabled:!r.trackPlaying}]),onClick:e[6]||(e[6]=function(t){return a.state.jumpToPlayingTrack()}),title:"jump to playing track"},null,2)):Object(s["e"])("",!0),Object(s["g"])("button",{class:Object(s["j"])([{bumpDown:"track"==a.state.mode},"uploadButton"]),onClick:e[7]||(e[7]=function(t){return r.startUpload()})},"upload",2)])):(Object(s["l"])(),Object(s["f"])("div",Ka,["track"!=a.state.mode?(Object(s["l"])(),Object(s["f"])("button",{key:0,class:Object(s["j"])(["navButton jumpButton",{disabled:!r.trackPlaying}]),onClick:e[5]||(e[5]=function(t){return a.state.jumpToPlayingTrack()}),title:"jump to playing track [ctrl+y]"},null,2)):Object(s["e"])("",!0)])),(a.state.totalPages>0||a.state.totalUserPages>0)&&"track"!=a.state.mode||a.state.search.string&&a.state.totalPages>1?(Object(s["l"])(),Object(s["f"])("div",{key:4,class:Object(s["j"])(["curPageContainer",{bumpLeft:!a.state.loggedin}])},[Object(s["g"])("button",{class:Object(s["j"])(["navButton",{disabled:r.curPage<1}]),disabled:r.curPage<1,onClick:e[8]||(e[8]=function(t){return a.state.firstPage()})}," << ",10,Ga),Object(s["g"])("button",{class:Object(s["j"])(["navButton",{disabled:r.curPage<1}]),disabled:r.curPage<1,onClick:e[9]||(e[9]=function(t){return a.state.regressPage()})}," < ",10,Ya),Object(s["h"])(" "+Object(s["r"])(r.pagenumber)+" ",1),Object(s["g"])("button",{class:Object(s["j"])(["navButton",{disabled:r.totalPages==r.curPage+1}]),disabled:r.totalPages==r.curPage+1,onClick:e[10]||(e[10]=function(t){return a.state.advancePage()})}," > ",10,$a),Object(s["g"])("button",{class:Object(s["j"])(["navButton",{disabled:r.totalPages==r.curPage+1}]),disabled:r.totalPages==r.curPage+1,onClick:e[11]||(e[11]=function(t){return a.state.lastPage()})}," >> ",10,Za)],2)):Object(s["e"])("",!0),Object(s["g"])("div",_a,[Object(s["g"])("div",ts,[a.state.loggedin?(Object(s["l"])(),Object(s["f"])("div",es,[as,ss,Object(s["g"])("a",{href:"/u/"+a.state.loggedinUserName,innerHTML:r.truncate(a.state.loggedinUserName)},null,8,ns)])):Object(s["e"])("",!0),Object(s["i"])(i,{state:a.state},null,8,["state"])]),Object(s["g"])("div",{class:"infoButton",title:"about whitehot robot",onClick:e[12]||(e[12]=function(t){return r.launchInfoPage()})}),Object(s["g"])("a",{href:r.origin,class:"appName"},cs,8,os)])])}a("159b"),a("a630"),a("3ca3"),a("a15b");var us={class:"account"},ds={key:1,class:"userButtonContainer"};function hs(t,e,a,n,o,r){return Object(s["l"])(),Object(s["f"])("div",us,[a.state.loggedin?(Object(s["l"])(),Object(s["f"])("div",ds,[Object(s["g"])("button",{onClick:e[1]||(e[1]=function(t){return r.logout()}),class:"userbutton"},"logout"),Object(s["g"])("button",{onClick:e[2]||(e[2]=function(t){return r.showSettings()}),class:"userbutton"},"settings")])):(Object(s["l"])(),Object(s["f"])("button",{key:0,onClick:e[0]||(e[0]=function(t){return r.toggleLogin()}),class:"loginButton"},"log in / register "))])}var gs={name:"Account",props:["state"],methods:{showSettings:function(){this.state.showUserSettings()},logout:function(){this.state.logout()},toggleLogin:function(){this.state.loggedin||this.state.showLoginPrompt()}}};a("4e5e");const ps=Qe()(gs,[["render",hs]]);var fs=ps,bs={components:{Account:fs},data:function(){return{dragover:!1,showUploadProgress:!1,filesUploading:[]}},name:"Header",props:["state"],methods:{launchInfoPage:function(){var t=document.createElement("a");t.setAttribute("href","https://whitehotrobot.dweet.net/about"),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),t.parentNode.removeChild(t)},updateUserPrefs:function(t){var e=this;this.$nextTick((function(){var a;switch(t){case"audiocloudPlayAll":a=e.state.playall?0:1;break;case"audiocloudShuffle":a=e.state.shuffle?0:1;break;case"audiocloudDisco":a=e.state.disco?0:1;break;case"audiocloudNumTracksPerPage":a=e.state.maxResultsPerPage;break}var s={userName:e.state.loggedinUserName,passhash:e.state.passhash,pref:t,newval:a};fetch(e.state.baseURL+"/updatePrefs.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(e){"audiocloudNumTracksPerPage"==t&&window.location.reload()}))}))},startUpload:function(){this.state.showUploadModal=!0},dragLeaveHandler:function(){this.dragover=!1},dragOverHandler:function(){this.dragover=!0},upload:function(t){var e=this;t.length&&(this.showUploadProgress=!0,this.filesUploading=Array(t.length).fill().map((function(t){return{}})),console.log(t),Array.from(t).forEach((function(t,a){t.completed=!1,e.filesUploading[a].perc=0,e.filesUploading[a].trackName=t.name})),Array.from(t).forEach((function(a,s){if(("audio/mpeg"==a.type||"audio/ogg"==a.type||"audio/wav"==a.type)&&a.size<1e8){var n=new FormData,o=a.name.split(".").filter((function(t,e){return e<a.name.split(".").length-1})).join(".");n.append("author",e.state.loggedinUserName),n.append("userID",e.state.loggedinUserID),n.append("trackName",o),n.append("userID",e.state.loggedinUserID),n.append("file",a);var r=new XMLHttpRequest;r.open("POST",e.state.baseURL+"/upload.php"),r.upload.addEventListener("progress",(function(t){var n=t.loaded/t.total*100;e.filesUploading[s].trackName=a.name,e.filesUploading[s].perc=n})),r.addEventListener("load",(function(s){a.completed=!0;var n=!0;Array.from(t).forEach((function(t){t.completed||(n=!1)})),n&&(window.location.href=window.location.origin+"/u/"+e.state.loggedinUserName)})),r.send(n)}else alert("a file was rejected due to incorrect type or filesize (max filesize = 100MB)"),e.state.showUploadModal=!1,e.showUploadProgress=!1})))},processDrop:function(t){var e=t.dataTransfer.files;this.upload(e)},truncate:function(t){if("undefined"!==typeof t)return t.length>16?t.substring(0,2)+"..."+t.substring(t.length-3):t},uploadManual:function(){var t=this,e=document.createElement("input");e.setAttribute("type","file"),e.addEventListener("change",(function(e){t.upload(e.path[0].files)})),e.click()}},mounted:function(){this.curPage>this.totalPages&&this.state.jumpToPage(this.totalPages)},computed:{trackPlaying:function(){var t=!1;return"undefined"!=typeof this.state.currentTrack&&"function"==typeof this.state.currentTrack&&this.state.currentTrack()&&(t=!!this.state.currentTrack().length),t},totalPages:function(){switch(this.state.mode){case"u":return+this.state.totalUserPages;case"default":return+this.state.totalPages;case"track":return+this.state.totalPages}},curPage:function(){switch(this.state.mode){case"u":return+this.state.curUserPage;case"default":return+this.state.curPage;case"track":return+this.state.curPage}},pagenumber:function(){var t;if(this.state.search.string)t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;else switch(this.state.mode){case"u":t="Page "+(this.state.curUserPage+1)+" of "+this.state.totalUserPages;break;case"default":t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;break;case"track":t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;break}return t},origin:function(){return window.location.origin}}};a("1473");const ms=Qe()(bs,[["render",ls],["__scopeId","data-v-22bb691c"]]);var ks=ms,js=a("edbf"),Os=a.n(js),ys=a("939c"),Ds=a.n(ys),ws=a("9afb"),vs=a.n(ws),Qs=function(t){return Object(s["n"])("data-v-9c33924c"),t=t(),Object(s["m"])(),t},Ps={ref:"footerBar",class:"footerBar",id:"footerBar"},Ts={class:"footerMenu"},xs=Qs((function(){return Object(s["g"])("img",{src:"https://jsbot.cantelope.org/uploads/1Zt7AV.png",class:"socialIcon"},null,-1)})),Us=[xs],As=Qs((function(){return Object(s["g"])("img",{src:"https://jsbot.cantelope.org/uploads/1gojp0.png",class:"socialIcon"},null,-1)})),Cs=[As],Is=Qs((function(){return Object(s["g"])("img",{src:Os.a,class:"socialIcon"},null,-1)})),Ss=[Is],Ns=Qs((function(){return Object(s["g"])("img",{src:Ds.a,class:"socialIcon"},null,-1)})),Rs=[Ns],Ls=Qs((function(){return Object(s["g"])("img",{src:"https://jsbot.cantelope.org/uploads/1oHzZO.png",class:"socialIcon"},null,-1)})),Ms=[Ls],Bs=Qs((function(){return Object(s["g"])("img",{src:"https://jsbot.cantelope.org/uploads/cdR9g.png",class:"socialIcon"},null,-1)})),Es=[Bs],Vs=Qs((function(){return Object(s["g"])("img",{src:vs.a,class:"socialIcon"},null,-1)})),Fs=[Vs];function Hs(t,e,a,n,o,r){return Object(s["l"])(),Object(s["f"])("div",Ps,[Object(s["g"])("div",Ts,[Object(s["g"])("button",{onClick:e[0]||(e[0]=function(t){return r.launchPage("https://code.dweet.net")}),class:"socialButton",title:"demos / code  https://code.dweet.net"},Us),Object(s["g"])("button",{onClick:e[1]||(e[1]=function(t){return r.launchPage("https://messaging.dweet.net")}),class:"socialButton",title:"RobotNet Messaging https://messaging.dweet.net"},Cs),Object(s["g"])("button",{onClick:e[2]||(e[2]=function(t){return r.launchPage("https://hosting.dweet.net")}),class:"socialButton",title:"static page hosting https://hosting.dweet.net"},Ss),Object(s["g"])("button",{onClick:e[3]||(e[3]=function(t){return r.launchPage("https://games.dweet.net")}),class:"socialButton",title:"community browser games https://games.dweet.net"},Rs),Object(s["g"])("button",{onClick:e[4]||(e[4]=function(t){return r.launchPage("https://words.dweet.net")}),class:"socialButton",title:"blog / literature https://words.dweet.net"},Ms),Object(s["g"])("button",{onClick:e[5]||(e[5]=function(t){return r.launchPage("https://dweet.net")}),class:"socialButton",title:"music videos / playlists https://dweet.net"},Es),Object(s["g"])("button",{onClick:e[6]||(e[6]=function(t){return r.launchEmail()}),class:"socialButton",title:"whitehot robot email"},Fs),"embed"==a.state.mode?(Object(s["l"])(),Object(s["f"])("div",{key:0,class:"socialButton infoButton",title:"about whitehot robot",onClick:e[7]||(e[7]=function(t){return r.launchInfoPage()})})):Object(s["e"])("",!0)])],512)}var zs={name:"Footer",props:["state"],data:function(){return{}},methods:{launchInfoPage:function(){var t=document.createElement("a");t.setAttribute("href","https://whitehotrobot.com/about"),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),t.parentNode.removeChild(t)},launchEmail:function(){location.href="https://email.whitehotrobot.com"},launchPage:function(t){window.open(t,"_blank")},launchAdmin:function(){window.open("https://whitehotrobot.com/admin/","_blank")}}};a("ad28");const Ws=Qe()(zs,[["render",Hs],["__scopeId","data-v-9c33924c"]]);var qs=Ws,Js={class:"LoginPrompt"},Ks={class:"mainLoginContainer"},Xs={key:0},Gs=Object(s["g"])("span",{class:"title"},"login",-1),Ys=Object(s["g"])("br",null,null,-1),$s={class:"inputContainer"},Zs=Object(s["g"])("div",{class:"inputTitle"},"User Name",-1),_s=Object(s["g"])("br",null,null,-1),tn={class:"inputContainer"},en=Object(s["g"])("div",{class:"inputTitle"},"Password",-1),an=Object(s["g"])("br",null,null,-1),sn={key:0,class:"invalidLogin"},nn=Object(s["g"])("div",{class:"spacerDiv",style:{"margin-top":"30px"}},null,-1),on={key:1},rn=Object(s["g"])("div",{class:"spacerDiv",style:{"margin-top":"20px"}},null,-1),cn=Object(s["g"])("br",null,null,-1),ln={key:0,class:"mustRegister"},un=Object(s["h"])(" You must register or"),dn=Object(s["g"])("br",null,null,-1),hn=Object(s["h"])(" log-in to create a demo!"),gn=Object(s["g"])("br",null,null,-1),pn=[un,dn,hn,gn],fn=Object(s["g"])("span",{class:"title"},"register",-1),bn=Object(s["g"])("br",null,null,-1),mn={class:"inputContainer"},kn={class:"inputTitle"},jn=Object(s["h"])(" User Name "),On={key:0,style:{display:"inline-block",color:"#f00"}},yn=Object(s["h"])("     "),Dn=Object(s["g"])("i",null,"user name unavailable",-1),wn=[yn,Dn],vn={key:1,style:{display:"inline-block",color:"#0f4"}},Qn=Object(s["h"])("     "),Pn=Object(s["g"])("i",null,"user name available",-1),Tn=[Qn,Pn],xn=Object(s["g"])("br",null,null,-1),Un={class:"inputContainer"},An={class:"inputTitle"},Cn=Object(s["h"])(" Password "),In={key:0,style:{display:"inline-block",color:"#f00"}},Sn={key:1,style:{display:"inline-block",color:"#0f4"}},Nn=Object(s["h"])("     "),Rn=Object(s["g"])("i",null,"passwords match!",-1),Ln=[Nn,Rn],Mn=Object(s["g"])("br",null,null,-1),Bn={class:"inputContainer"},En=Object(s["g"])("div",{class:"inputTitle"},"Confirm Password",-1),Vn=Object(s["g"])("br",null,null,-1),Fn=["disabled"],Hn={key:1,class:"invalidLogin"},zn={style:{position:"absolute","z-index":"-1",opacity:"0"},ref:"bottomTabAnchor",type:"text",class:"textInput"};function Wn(t,e,a,n,o,r){return Object(s["l"])(),Object(s["f"])("div",Js,[Object(s["g"])("div",Ks,[a.state.showRegister?(Object(s["l"])(),Object(s["f"])("div",on,[rn,Object(s["g"])("button",{class:"toggleButton",onClick:e[11]||(e[11]=function(t){return r.toggleView()})}," ↑   login   ↑ "),cn,a.state.displayLoginRequired?(Object(s["l"])(),Object(s["f"])("div",ln,pn)):Object(s["e"])("",!0),fn,bn,Object(s["g"])("div",mn,[Object(s["g"])("div",kn,[jn,o.userNameAvailable?Object(s["e"])("",!0):(Object(s["l"])(),Object(s["f"])("div",On,wn)),o.userNameAvailable&&a.state.regusername?(Object(s["l"])(),Object(s["f"])("div",vn,Tn)):Object(s["e"])("",!0)]),Object(s["g"])("input",{style:{position:"absolute","z-index":"-1",opacity:"0"},ref:"loginTabAnchor",type:"text",class:"textInput",onKeydown:[e[12]||(e[12]=Object(s["x"])((function(t){return r.submit()}),["enter"])),e[13]||(e[13]=Object(s["x"])(Object(s["y"])((function(e){return t.$refs.bottomTabAnchor.focus()}),["shift"]),["tab"]))]},null,544),Object(s["w"])(Object(s["g"])("input",{type:"text",ref:"regusername","onUpdate:modelValue":e[14]||(e[14]=function(t){return a.state.regusername=t}),class:Object(s["j"])(["input textInput",{userNameUnavailable:!o.userNameAvailable,userNameAvailable:o.userNameAvailable&&a.state.regusername}]),maxlength:"16",onInput:e[15]||(e[15]=function(t){return r.checkUserNameAvailability()}),onKeydown:[e[16]||(e[16]=Object(s["x"])((function(t){return r.submit()}),["enter"])),e[17]||(e[17]=Object(s["x"])(Object(s["y"])((function(e){return t.$refs.bottomTabAnchor.focus()}),["shift"]),["tab"]))]},null,34),[[s["u"],a.state.regusername]]),xn]),Object(s["g"])("div",Un,[Object(s["g"])("div",An,[Cn,!r.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword?(Object(s["l"])(),Object(s["f"])("div",In,"     passwords do not match ")):Object(s["e"])("",!0),r.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword?(Object(s["l"])(),Object(s["f"])("div",Sn,Ln)):Object(s["e"])("",!0)]),Object(s["w"])(Object(s["g"])("input",{type:"password",ref:"regpassword","onUpdate:modelValue":e[18]||(e[18]=function(t){return a.state.regpassword=t}),class:Object(s["j"])(["input",{passwordsDoNotMatch:!r.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword,passwordsMatch:r.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword}]),onKeydown:e[19]||(e[19]=Object(s["x"])((function(t){return r.submit()}),["enter"]))},null,34),[[s["u"],a.state.regpassword]]),Mn]),Object(s["g"])("div",Bn,[En,Object(s["w"])(Object(s["g"])("input",{type:"password",ref:"confirmpassword","onUpdate:modelValue":e[20]||(e[20]=function(t){return a.state.confirmpassword=t}),class:Object(s["j"])(["input",{passwordsDoNotMatch:!r.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword,passwordsMatch:r.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword}]),onKeydown:e[21]||(e[21]=Object(s["x"])((function(t){return r.submit()}),["enter"]))},null,34),[[s["u"],a.state.confirmpassword]]),Vn]),Object(s["g"])("button",{onClick:e[22]||(e[22]=function(t){return r.submit()}),disabled:!r.validate,class:Object(s["j"])({disabledButton:!r.validate})},"submit",10,Fn),Object(s["g"])("button",{onClick:e[23]||(e[23]=function(t){return r.closePrompt()}),onKeydown:[e[24]||(e[24]=Object(s["x"])((function(e){return t.$refs.loginTabAnchor.focus()}),["tab"])),e[25]||(e[25]=Object(s["x"])(Object(s["y"])((function(e){return t.$refs.cancelButton.focus()}),["shift"]),["tab"]))],ref:"cancelButton",style:{background:"#faa"}},"cancel",544),o.showInvalid?(Object(s["l"])(),Object(s["f"])("div",Hn," Whoa! check your info... ")):Object(s["e"])("",!0),Object(s["g"])("input",zn,null,512)])):(Object(s["l"])(),Object(s["f"])("div",Xs,[Gs,Ys,Object(s["g"])("div",$s,[Zs,Object(s["g"])("input",{style:{position:"absolute","z-index":"-1",opacity:"0"},ref:"loginTabAnchor",onKeydown:e[0]||(e[0]=Object(s["x"])(Object(s["y"])((function(e){return t.$refs.bottomTabAnchor.focus()}),["shift"]),["tab"])),type:"text",class:"textInput"},null,544),Object(s["w"])(Object(s["g"])("input",{type:"text",ref:"username","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.state.username=t}),class:"input textInput",onKeydown:[e[2]||(e[2]=Object(s["x"])((function(t){return a.state.login()}),["enter"])),e[3]||(e[3]=Object(s["x"])(Object(s["y"])((function(e){return t.$refs.bottomTabAnchor.focus()}),["shift"]),["tab"]))]},null,544),[[s["u"],a.state.username]]),_s]),Object(s["g"])("div",tn,[en,Object(s["w"])(Object(s["g"])("input",{type:"password",ref:"password","onUpdate:modelValue":e[4]||(e[4]=function(t){return a.state.password=t}),class:"input",onKeydown:e[5]||(e[5]=Object(s["x"])((function(t){return a.state.login()}),["enter"]))},null,544),[[s["u"],a.state.password]]),an]),Object(s["g"])("button",{onClick:e[6]||(e[6]=function(t){return a.state.login()}),ref:"go"},"Go",512),Object(s["g"])("button",{onClick:e[7]||(e[7]=function(t){return r.closePrompt()}),onKeydown:[e[8]||(e[8]=Object(s["x"])((function(e){return t.$refs.loginTabAnchor.focus()}),["tab"])),e[9]||(e[9]=Object(s["x"])(Object(s["y"])((function(e){return t.$refs.cancelButton.focus()}),["shift"]),["tab"]))],style:{background:"#faa"},ref:"cancelButton"},"cancel",544),a.state.invalidLoginAttempt?(Object(s["l"])(),Object(s["f"])("div",sn," Invalid User Name or Password ")):Object(s["e"])("",!0),nn,Object(s["g"])("button",{class:"toggleButton",onClick:e[10]||(e[10]=function(t){return r.toggleView()}),ref:"bottomTabAnchor"}," ↓   register   ↓ ",512)]))])])}var qn={name:"Account",props:["state"],data:function(){return{userNameAvailable:!0,showInvalid:!1}},computed:{passwordsMatch:function(){return this.state.regpassword===this.state.confirmpassword},validate:function(){return this.state.regusername&&this.state.regpassword&&this.passwordsMatch&&this.userNameAvailable}},methods:{submit:function(){var t=this;if(this.validate){var e={userName:this.state.regusername,password:this.state.regpassword};fetch(this.state.baseURL+"/submitReg.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){e[0]?(t.state.loggedin=!0,t.state.loggedinUserName=t.state.regusername,t.state.passhash=e[1],t.state.loggedinUserID=e[2],t.state.closePrompts(),t.state.setCookie(),t.state.userInfo[t.state.loggedinUserID]={},t.state.userInfo[t.state.loggedinUserID].name=t.state.regusername,t.state.userInfo[t.state.loggedinUserID].avatar=t.state.getAvatar(t.state.loggedinUserID),t.state.checkEnabled()):t.showInvalid=!0}))}else this.showInvalid=!0},toggleView:function(){var t=this;this.state.showRegister=!this.state.showRegister,this.$nextTick((function(){t.state.showRegister?t.$refs.regusername.focus():t.$refs.username.focus()}))},toggleLogin:function(){this.state.loggedin||this.state.showLoginPrompt()},closePrompt:function(){this.state.closePrompts()},checkUserNameAvailability:function(){var t=this;if(this.userNameAvailable=!0,this.state.regusername){var e={userName:this.state.regusername};fetch(this.state.baseURL+"/checkUserNameAvailability.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){t.userNameAvailable=e}))}}},mounted:function(){this.state.confirmpassword="",this.state.showRegister?this.$refs.regusername.focus():this.$refs.username.focus()}};a("377d");const Jn=Qe()(qn,[["render",Wn]]);var Kn=Jn,Xn={class:"UserSettings"},Gn={class:"mainContainer"},Yn={style:{"font-size":"28px","line-height":"1em","font-weight":"900"}},$n=Object(s["g"])("br",null,null,-1),Zn=Object(s["g"])("span",{style:{color:"#aff","font-size":"36px","font-weight":"400"}},"settings",-1),_n=Object(s["g"])("div",{class:"spacerDiv"},null,-1),to=Object(s["h"])(" your avatar"),eo=Object(s["g"])("br",null,null,-1),ao={class:"editAvatarImgContainer"},so=["src"],no=Object(s["g"])("br",null,null,-1),oo={key:0,style:{color:"#4f8","font-size":"18px",background:"#055",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},ro={key:1,style:{color:"#f44","font-size":"18px",background:"#500",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},io=Object(s["g"])("div",{class:"spacerDiv",style:{"margin-top":"20px"}},null,-1),co=Object(s["h"])(" change your password"),lo=Object(s["g"])("br",null,null,-1),uo=Object(s["g"])("br",null,null,-1),ho=Object(s["g"])("br",null,null,-1),go=Object(s["g"])("br",null,null,-1),po={key:2,style:{color:"#4f8","font-size":"24px",background:"#055",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},fo={key:3,style:{color:"#f44","font-size":"20px",background:"#400",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},bo={key:4,style:{color:"#f00","font-size":"20px"}},mo={key:5,style:{color:"#0f4"}},ko=Object(s["h"])("     "),jo=Object(s["g"])("i",null,"passwords match!",-1),Oo=[ko,jo],yo=["disabled"],Do=Object(s["g"])("div",{class:"spacerDiv"},null,-1);function wo(t,e,a,n,o,r){return Object(s["l"])(),Object(s["f"])("div",Xn,[Object(s["g"])("div",Gn,[Object(s["g"])("span",Yn,[Object(s["h"])(Object(s["r"])(a.state.loggedinUserName)+" ",1),$n,Zn]),_n,to,eo,Object(s["g"])("div",ao,[Object(s["g"])("img",{src:a.state.getAvatar(a.state.loggedinUserID),class:"editAvatarImg"},null,8,so)]),Object(s["g"])("input",{style:{opacity:"0",position:"absolute","z-index":"-1"},ref:"tabAnchor",onKeydown:e[0]||(e[0]=Object(s["x"])(Object(s["y"])((function(e){return t.$refs.cancelButton.focus()}),["shift"]),["tab"]))},null,544),Object(s["w"])(Object(s["g"])("input",{type:"text",ref:"avatarURL","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.state.userInfo[a.state.loggedinUserID].avatar=t}),class:"input avatarInput",onInput:e[2]||(e[2]=function(t){return r.updateAvatar()}),onClick:e[3]||(e[3]=function(t){return t.target.select()}),placeholder:"URL to an online image..."},null,544),[[s["u"],a.state.userInfo[a.state.loggedinUserID].avatar]]),no,1==o.avatarUpdateSuccessful?(Object(s["l"])(),Object(s["f"])("div",oo,"     avatar update successful ")):Object(s["e"])("",!0),-1==o.avatarUpdateSuccessful?(Object(s["l"])(),Object(s["f"])("div",ro,"     avatar update NOT successful ")):Object(s["e"])("",!0),io,co,lo,Object(s["w"])(Object(s["g"])("input",{type:"password",ref:"currentpassword",class:"input passwordFields","onUpdate:modelValue":e[4]||(e[4]=function(t){return o.currentPassword=t}),onKeydown:e[5]||(e[5]=Object(s["x"])((function(t){return r.savePassword()}),["enter"])),onClick:e[6]||(e[6]=function(t){return t.target.select()}),onInput:e[7]||(e[7]=function(t){return o.showInvalid=!1}),placeholder:"current password"},null,544),[[s["u"],o.currentPassword]]),uo,Object(s["w"])(Object(s["g"])("input",{type:"password",ref:"newpassword",class:Object(s["j"])(["input passwordFields",{passwordsDoNotMatch:!r.passwordsMatch&&o.newPassword&&o.confirmNewPassword,passwordsMatch:r.passwordsMatch&&o.newPassword&&o.confirmNewPassword}]),"onUpdate:modelValue":e[8]||(e[8]=function(t){return o.newPassword=t}),onKeydown:e[9]||(e[9]=Object(s["x"])((function(t){return r.savePassword()}),["enter"])),onInput:e[10]||(e[10]=function(t){return o.showInvalid=!1}),onClick:e[11]||(e[11]=function(t){return t.target.select()}),placeholder:"new password"},null,34),[[s["u"],o.newPassword]]),ho,Object(s["w"])(Object(s["g"])("input",{type:"password",ref:"confirmnewpassword","onUpdate:modelValue":e[12]||(e[12]=function(t){return o.confirmNewPassword=t}),onInput:e[13]||(e[13]=function(t){return o.showInvalid=!1}),class:Object(s["j"])(["input passwordFields",{passwordsDoNotMatch:!r.passwordsMatch&&o.newPassword&&o.confirmNewPassword,passwordsMatch:r.passwordsMatch&&o.newPassword&&o.confirmNewPassword}]),onClick:e[14]||(e[14]=function(t){return t.target.select()}),onKeydown:e[15]||(e[15]=Object(s["x"])((function(t){return r.savePassword()}),["enter"])),placeholder:"confirm new password"},null,34),[[s["u"],o.confirmNewPassword]]),go,o.savedPassword?(Object(s["l"])(),Object(s["f"])("div",po,"     password saved ")):Object(s["e"])("",!0),o.showInvalid?(Object(s["l"])(),Object(s["f"])("div",fo,"     ERROR SAVING PASSWORD! ")):Object(s["e"])("",!0),o.savedPassword||o.showInvalid||r.passwordsMatch||!o.newPassword||!o.confirmNewPassword?Object(s["e"])("",!0):(Object(s["l"])(),Object(s["f"])("div",bo,"     passwords do not match ")),!o.savedPassword&&!o.showInvalid&&r.passwordsMatch&&o.newPassword&&o.confirmNewPassword?(Object(s["l"])(),Object(s["f"])("div",mo,Oo)):Object(s["e"])("",!0),Object(s["g"])("button",{onClick:e[16]||(e[16]=function(t){return r.savePassword()}),ref:"cancelButton",disabled:!r.validate,class:Object(s["j"])({disabledButton:!r.validate})},"save",10,yo),Do,Object(s["g"])("button",{onClick:e[17]||(e[17]=function(t){return r.closePrompt()}),onKeydown:[e[18]||(e[18]=Object(s["x"])((function(e){return t.$refs.tabAnchor.focus()}),["tab"])),e[19]||(e[19]=Object(s["x"])(Object(s["y"])((function(e){return t.$refs.cancelButton.focus()}),["shift"]),["tab"]))],ref:"cancelButton",style:{background:"#faa"}},"close / cancel",544),Object(s["g"])("input",{style:{opacity:"0",position:"absolute","z-index":"-1"},ref:"endTabAnchor",onKeydown:e[20]||(e[20]=Object(s["x"])(Object(s["y"])((function(e){return t.$refs.confirmnewassword.focus()}),["shift"]),["tab"]))},null,544)])])}var vo={name:"UserSettings",props:["state"],data:function(){return{newPassword:"",confirmNewPassword:"",currentPassword:"",savedPassword:!1,showInvalid:!1,avatarUpdateSuccessful:0}},computed:{passwordsMatch:function(){return this.newPassword===this.confirmNewPassword},validate:function(){return this.passwordsMatch&&this.newPassword&&this.confirmNewPassword&&this.currentPassword}},methods:{savePassword:function(){var t=this;if(this.validate){var e={userName:this.state.loggedinUserName,currentPassword:this.currentPassword,newPassword:this.newPassword};fetch(this.state.baseURL+"/changePassword.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){e[0]?(t.state.passhash=e[1],t.savedPassword=!0,t.currentPassword=t.newPassword=t.confirmNewPassword="",t.state.setCookie()):t.showInvalid=!0}))}else this.savedPassword=!1,this.showInvalid=!0},closePrompt:function(){this.state.closePrompts()},updateAvatar:function(){var t=this,e={userName:this.state.loggedinUserName,passhash:this.state.passhash,newAvatar:this.state.userInfo[this.state.loggedinUserID].avatar};fetch(this.state.baseURL+"/updateAvatar.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){e[0]?(t.avatarUpdateSuccessful=1,t.state.user.avatar=t.state.userInfo[t.state.loggedinUserID].avatar,setTimeout((function(){return t.avatarUpdateSuccessful=0}),2e3)):(t.avatarUpdateSuccssful=-1,setTimeout((function(){return t.avatarUpdateSuccessful=0}),2e3))}))}},mounted:function(){this.$refs.currentpassword.focus()}};a("dda3");const Qo=Qe()(vo,[["render",wo]]);var Po,To=Qo,xo={name:"App",data:function(){return{state:{baseURL:"https://audioplayer.dweet.net",baseDemoURL:"https://code.dweet.net",baseVideoURL:"https://dweet.net",baseDomain:"audioplayer.dweet.net",baseUserDomain:"dweet.net",rootDomain:"dweet.net",maxCommentsBeforeExpansion:3,curPage:0,curPlayId:0,playPauseCurrentTrack:null,jumpToPlayingTrack:null,beginSearch:null,curTrack:null,curSearchPage:0,jumpToPage:null,autoPlay:!1,playall:!1,userAgent:null,shuffle:!1,disco:!1,userData:[],preloadImages:[],curUserPage:null,incrementViews:null,loggedinUserName:"",exactClicked:!1,search:{string:"",audiocloudTracks:[],hits:0,inProgress:!1,timer:0,timerHandle:null,exact:!1,allWords:!0},showControlsToggleTimer:0,loggedin:!1,totalUserPages:0,totalPages:0,playPreviousTrack:null,playNextTrack:null,showUploadModal:!1,currentTrack:null,toggleLogin:null,maxResultsPerPage:0,showLoginPrompt:null,globalT:0,showControls:!1,toggleShowControls:null,closePrompts:null,loginPromptVisible:!1,isAdmin:!1,checkEnabled:null,loggedinuser:"",inView:[],loaded:!1,user:null,fetchUserData:null,startStopPages:!1,pauseVisible:null,username:"",password:"",passhash:"",userInfo:[],tracks:[],regusername:"",advancePage:null,regressPage:null,filteredUserTracks:null,firstPage:null,lastPage:null,regpassword:"",preload:2,decToAlpha:null,alphaToDec:null,showRegister:!1,showUserSettings:null,userSettingsVisible:!1,openFullscreen:null,getAvatar:null,landingPage:{audiocloudTracks:[]},mode:"",defaultAvatar:"https://jsbot.cantelope.org/uploads/1pnBdc.png"}}},components:{Main:Ae,Controls:ja,Header:ks,Footer:qs,UserSettings:To,LoginPrompt:Kn},methods:{toggleShowControls:function(){var t=document.cookie;t.split(";").map((function(t){-1!=t.indexOf("showControls")&&(document.cookie=t+"; expires="+new Date(0).toUTCString()+"; path=/")})),this.state.showControls=!this.state.showControls,document.cookie="showControls="+this.state.showControls+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},pauseVisible:function(){if(this.state.search.string)this.state.search.audiocloudTracks.map((function(t){return t.playing=!1}));else switch(this.state.mode){case"u":this.state.user.audiocloudTracks.map((function(t){return t.playing=!1}));break;case"track":this.state.tracks.map((function(t){return t.playing=!1}));break;case"embed":this.state.tracks.map((function(t){return t.playing=!1}));break;case"default":this.state.landingPage.audiocloudTracks.map((function(t){return t.playing=!1}));break}},openFullscreen:function(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},decToAlpha:function(t){var e,a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s="";while(t)s=a[0|Math.round(62*(t/62-(e=t/62|0)))]+s,t=e;return""==s?"0":s},alphaToDec:function(t){var e,a,s=0,n=0;while(""!=t)e=t[t.length-1],t=t.substring(0,t.length-1),a=e.charCodeAt(0)<58?e:e.charCodeAt(0)-(e.charCodeAt(0)>96?87:29),n+=a*Math.pow(62,s),s++;return n},fetchUserData:function(t){var e=this;if("undefined"==typeof this.state.userData[t]){var a={userID:t,page:this.state.curUserPage,maxResultsPerPage:this.state.maxResultsPerPage};fetch(this.state.baseURL+"/fetchUserData.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(a){a&&(e.state.userData[t]=a[0],e.state.userInfo[t]={},e.state.userInfo[t].name=a[0].name,e.state.userInfo[t].avatar=a[0].avatar,e.state.userInfo[t].isAdmin=a[0].isAdmin)}))}},loadLandingPage:function(){var t=this,e={page:this.state.curPage,maxResultsPerPage:this.state.maxResultsPerPage};fetch(this.state.baseURL+"/getRecentTracks.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){e[0].map((function(e){e.playing=!1,e.private=!!+e.private,e.allowDownload=!!+e.allowDownload,t.incrementViews(e.id),t.loadUserData(e.author),e.comments=e.comments.map((function(e){return e.updated=!1,e.editing=!1,t.fetchUserData(e.userID),e}))})),t.state.landingPage.audiocloudTracks=e[0],t.state.totalPages=e[1],t.state.curPage+1>t.state.totalPages&&t.lastPage(),t.state.loaded=!0,t.state.playall&&t.playNextTrack()}))},loadUserData:function(t){var e=this,a={name:decodeURIComponent(t),loggedinUserName:this.state.loggedinUserName,passhash:this.state.passhash,maxResultsPerPage:this.state.maxResultsPerPage,page:this.state.curUserPage};fetch(this.state.baseURL+"/fetchUserDataByName.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(t){null!=e.state.user&&"undefined"!=typeof e.state.user.audiocloudTracks&&e.state.user.audiocloudTracks.length?t[0].audiocloudTracks=e.state.user.audiocloudTracks:t[0].audiocloudTracks.map((function(t){"default"!=e.state.mode&&e.incrementViews(t.id),t.playing=!1,t.private=!!+t.private,t.allowDownload=!!+t.allowDownload,t.comments=t.comments.map((function(t){return t.updated=!1,t.editing=!1,e.fetchUserData(t.userID),t}))})),e.state.totalUserPages=t[1],e.state.curUserPage+1>e.state.totalUserPages&&e.lastPage(),e.state.user=t[0],e.state.userInfo[e.state.user.id]={},e.state.userInfo[e.state.user.id].name=e.state.user.name,e.state.userInfo[e.state.user.id].avatar=e.state.user.avatar,e.state.userInfo[e.state.user.id].isAdmin=e.state.user.isAdmin,e.state.refreshAvatar=!0,e.state.loaded=!0,e.state.playall&&""==e.state.search.string&&"u"==e.state.mode&&e.playNextTrack()}))},loadTrack:function(t){this.state.tracks=[{id:0,userID:0,author:"",trackName:decodeURI(t.split("/")[t.split("/").length-1]).split("?")[0],playlists:"",playing:!1,date:new Date("H:i:s Y-M-D"),private:0,autoPlay:!1,description:"",audioFile:t,plays:0,allowDownload:1}],this.state.loaded=!0},getQueryVar:function(t,e){for(var a=window.location.search.substring(1),s=a.split("&"),n=0;n<s.length;n++){var o=s[n].split("=");if(o[0]==e)return o[1]}return!1},goHome:function(){window.location.href=window.location.origin},getAvatar:function(t){return"undefined"!=typeof this.state.userInfo[t]&&this.state.userInfo[t].avatar?(this.state.userInfo[t].avatar=this.state.userInfo[t].avatar.replace(" ",""),this.state.userInfo[t].avatar):this.state.defaultAvatar},closePrompts:function(){this.state.loginPromptVisible=!1,this.state.userSettingsVisible=!1,this.state.showRegister=!1,this.state.displayLoginRequired=!1,document.getElementsByTagName("HTML")[0].style.overflowY="visible"},showUserSettings:function(){document.getElementsByTagName("HTML")[0].style.overflowY="hidden",this.state.userSettingsVisible=!0},showLoginPrompt:function(){document.getElementsByTagName("HTML")[0].style.overflowY="hidden",this.state.username=this.state.password=this.state.regusername=this.state.regpassword="",this.state.invalidLoginAttempt=!1,this.state.loginPromptVisible=!0},toggleLogin:function(){this.state.loggedin=!this.state.loggedin},setCookie:function(){var t=document.cookie;t.split(";").map((function(t){-1==t.indexOf("autoplay")&&(document.cookie=t+"; expires="+new Date(0).toUTCString()+"; path=/")})),document.cookie="loggedinuser="+this.state.loggedinUserName+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="loggedinuserID="+this.state.loggedinUserID+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="token="+this.state.passhash+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="autoplay="+this.state.playall+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="shuffle="+this.state.shuffle+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="showControls="+this.state.showControls+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="exactSearch="+this.state.search.exact+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="allWords="+this.state.search.allWords+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},checkEnabled:function(){var t=this;if(this.state.loggedinUserName){var e={userName:this.state.loggedinUserName,passhash:this.state.passhash};fetch(this.state.baseURL+"/checkEnabled.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){+e[0]?(t.state.loggedin=!0,t.state.loggedinUserID=+e[1],t.state.fetchUserData(t.state.loggedinUserID),t.setCookie(),t.state.loginPromptVisible=!1,t.state.invalidLoginAttemp=!1,t.state.userInfo[t.state.loggedinUserID]={},t.state.userInfo[t.state.loggedinUserID].name=t.state.regusername||t.state.loggedinUserName,t.state.userInfo[t.state.loggedinUserID].avatar=e[2],t.state.userInfo[t.state.loggedinUserID].isAdmin=+e[3],+e[3]&&(t.state.isAdmin=!0),t.state.maxResultsPerPage=+e[4],t.state.playall=!!+e[5],t.state.shuffle=!!+e[6],t.state.disco=!!+e[7]):(t.state.loggedin=!1,t.state.loggedinUserName="",t.state.loggedinUserID="",t.state.passhash="",t.state.isAdmin=!1,t.state.invalidLoginAttempt=!0),t.getMode(),"embed"==t.state.mode&&(t.state.loggedinUserName="",t.state.loggedin=!1,t.state.isAdmin=!1)}))}},checkAutoplayPref:function(){var t=document.cookie.split(";").filter((function(t){return"autoplay"===t.split("=")[0].trim()}));t.length&&(this.state.playall="true"==t[0].split("=")[1]),t=document.cookie.split(";").filter((function(t){return"shuffle"===t.split("=")[0].trim()})),t.length&&(this.state.shuffle="true"==t[0].split("=")[1])},checkExactSearchPref:function(){var t=document.cookie.split(";").filter((function(t){return"exactSearch"===t.split("=")[0].trim()}));t.length&&(this.state.search.exact="true"==t[0].split("=")[1]),t=document.cookie.split(";").filter((function(t){return"allWords"===t.split("=")[0].trim()})),t.length&&(this.state.search.allWords="true"==t[0].split("=")[1])},getMode:function(){var t=this,e=window.location.pathname.split("/").filter((function(t){return t}));switch("embed"){case"embed":this.state.mode="embed",document.getElementsByTagName("html")[0].style.overflow="hidden",this.$nextTick((function(){return t.loadTrack(window.location.href.split(window.location.origin+"/")[1])}));break;case"track":this.state.mode="track",this.state.curPage=+e[1]-1,this.$nextTick((function(){return t.loadTrack(t.alphaToDec(e[1]))})),e[2]&&(this.state.search.string=decodeURIComponent(e[2]));break;case"playlist":this.state.mode="playlist";break;case"u":e[1]||(window.location.href=window.location.origin),this.state.user={name:decodeURIComponent(e[1])},this.state.mode="u",e[2]?(this.state.curUserPage=+e[2]-1,e[3]?(this.state.loggedin||(this.state.playall=!0,this.state.shuffle=!0),this.state.search.string=decodeURIComponent(e[3]),a="/"+e[3],history.pushState(null,null,window.location.origin+"/u/"+this.state.user.name+"/"+(this.state.curPage+1)),this.beginSearch()):((!this.state.curUserPage||this.state.curUserPage<0||this.state.curUserPage>1e6)&&(this.state.curUserPage=0),history.pushState(null,null,window.location.origin+"/u/"+e[1]+(this.state.curUserPage?"/"+(this.state.curUserPage+1):"")),this.getPages())):(this.state.curUserPage=0,history.pushState(null,null,window.location.origin+"/u/"+e[1]+(this.state.curUserPage?"/"+(this.state.curUserPage+1):"")),this.getPages());break;default:this.state.mode="default";var a="";e[0]?(this.state.curPage=+e[0]-1,e[1]?(this.state.search.string=decodeURIComponent(e[1]),a="/"+e[1],a&&!this.state.loggedin&&(this.state.playall=!0,this.state.shuffle=!0),history.pushState(null,null,window.location.origin+"/"+(this.state.curPage+1)),this.beginSearch()):(history.pushState(null,null,window.location.origin+"/"+this.state.curPage?this.state.curPage+1:""),(!this.state.curPage||this.state.curPage<0||this.state.curPage>1e6)&&(this.state.curPage=0),this.getPages())):window.location.href=window.location.origin;break}},getPages:function(){switch(this.state.mode){case"u":this.loadUserData(this.state.user.name);break;case"track":this.loadTrack();break;case"default":this.loadLandingPage();break}},login:function(){var t=this,e={userName:this.state.username,password:this.state.password};fetch(this.state.baseURL+"/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(a){a[0]?(t.state.loggedin=!0,t.state.loggedinUserName=t.state.username,t.state.loggedinUserID=+a[2],t.state.isAdmin=+a[4],t.state.playall=!!+a[5],t.state.shuffle=!!+a[6],t.state.disco=!!+a[7],t.state.passhash=a[1],t.setCookie(),t.closePrompts(),t.state.invalidLoginAttemp=!1,t.state.userInfo[t.state.loggedinUserID]={},t.state.userInfo[t.state.loggedinUserID].name=t.state.regusername||t.state.loggedinUserName,t.state.userInfo[t.state.loggedinUserID].avatar=a[3],t.state.userInfo[t.state.loggedinUserID].isAdmin=+a[4],t.checkShowControlsPref(),t.checkExactSearchPref(),e={userID:t.state.loggedinUserID,page:t.state.curUserPage,maxResultsPerPage:t.state.maxResultsPerPage},fetch(t.state.baseURL+"/fetchUserData.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(t){window.location.reload()})),t.$nextTick((function(){return t.loadUserData(t.state.user.name)}))):(t.state.loggedin=!1,t.state.invalidLoginAttempt=!0)}))},logout:function(){var t=this,e=document.cookie;e.split(";").map((function(e){-1==e.indexOf("autoplay")&&(document.cookie=e+"; expires="+new Date(0).toUTCString()+"; path=/; domain="+t.state.rootDomain),-1==e.indexOf("autoplay")&&(document.cookie=e+"; expires="+new Date(0).toUTCString()+"; path=/; domain="+t.state.rootDomain)})),this.state.loggedin=!1,this.state.isAdmin=!1,(this.state.mode="u")&&window.location.reload(),this.state.loggedinUserID=this.state.loggedinUserName="",this.$nextTick((function(){return t.loadUserData(t.state.user.name)}))},checkLogin:function(){var t=document.cookie.split(";").filter((function(t){return"loggedinuser"===t.split("=")[0].trim()}));if(t.length){this.state.loggedinUserName=t[0].split("=")[1];var e=document.cookie.split(";").filter((function(t){return"token"===t.split("=")[0].trim()}));if(e.length){this.state.passhash=e[0].split("=")[1];var a=document.cookie.split(";").filter((function(t){return"loggedinuserID"===t.split("=")[0].trim()}));a.length&&(this.state.loggedinUserID=a[0].split("=")[1],this.checkEnabled())}}else this.getMode();this.checkAutoplayPref(),this.checkShowControlsPref(),this.checkExactSearchPref()},checkShowControlsPref:function(){var t=document.cookie.split(";").filter((function(t){return"showControls"===t.split("=")[0].trim()}));t.length&&(this.state.showControls="true"==t[0].split("=")[1])},incrementViews:function(t){var e=this,a={trackID:t};fetch(this.state.baseURL+"/incrementViews.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(a){if(e.state.search.string)e.state.search.audiocloudTracks.filter((function(e){return e.id==t})).length&&e.state.search.audiocloudTracks.filter((function(e){return e.id==t}))[0].views++;else switch(e.state.mode){case"u":e.state.user.audiocloudTracks.filter((function(e){return e.id==t}))[0].views++;break;case"default":e.state.landingPage.audiocloudTracks.filter((function(e){return e.id==t})).length&&e.state.landingPage.audiocloudTracks.filter((function(e){return e.id==t}))[0].views++;break;case"track":e.state.tracks.filter((function(e){return e.id==t}))[0].views++;break}}))},firstPage:function(){var t=this.state.search.string?"/1/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.state.user.name+t;break;case"default":window.location.href=window.location.origin+t;break;case"track":window.location.href=window.location.origin+"/track/"+this.state.curTrack+t;break}},jumpToPage:function(t){var e=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.user.name+"/"+t+e;break;case"default":window.location.href=window.location.origin+"/"+t+e;break;case"track":window.location.href=window.location.origin+"/track/"+this.decToAlpha(this.state.curTrack)+"/"+t+e;break}},lastPage:function(){var t=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.state.user.name+"/"+this.state.totalUserPages+t;break;case"default":window.location.href=window.location.origin+"/"+this.state.totalPages+t;break;case"track":window.location.href=window.location.origin+"/track/"+this.decToAlpha(this.state.curTrack)+"/"+this.state.totalPages+t;break}},advancePage:function(){var t=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.state.user.name+"/"+(this.state.curUserPage+2)+t;break;case"default":window.location.href=window.location.origin+"/"+(this.state.curPage+2)+t;break;case"track":window.location.href=window.location.origin+"/track/"+this.decToAlpha(this.state.curTrack)+"/"+(this.state.curPage+2)+t;break}},regressPage:function(){var t=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.state.user.name+"/"+this.state.curUserPage+t;break;case"default":window.location.href=window.location.origin+"/"+this.state.curPage+t;break;case"track":window.location.href=window.location.origin+"/track/"+this.decToAlpha(this.state.curTrack)+"/"+(this.state.curPage+2)+t;break}},playNextTrack:function(){var t,e,a,s=this;if(this.currentPlayingTracks.length?(t=this.currentPlayingTracks[0].id,e=this.currentPlayingTracks[0].idx,this.currentPlayingTracks[0].mp3.currentTime=0,this.currentPlayingTracks[0].playing=!1):t=-1,this.state.search.string)this.state.search.audiocloudTracks.length&&(-1==t?this.state.shuffle?(this.state.search.audiocloudTracks[a=Math.random()*this.state.search.audiocloudTracks.length|0].playing=!0,this.state.curPlayId=this.state.search.audiocloudTracks[a].id,this.state.search.audiocloudTracks[a].jump++):(this.state.search.audiocloudTracks[0].playing=!0,this.state.curPlayId=this.state.search.audiocloudTracks[0].id,this.state.search.audiocloudTracks[0].jump++):this.state.search.audiocloudTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.state.search.audiocloudTracks.length|0)==e&&s.state.search.audiocloudTracks.length>1);s.state.search.audiocloudTracks[o].playing=!0,s.state.curPlayId=s.state.search.audiocloudTracks[o].id,s.state.search.audiocloudTracks[o].jump++}else n<s.state.search.audiocloudTracks.length-1?(s.state.search.audiocloudTracks[n+1].playing=!0,s.state.curPlayId=s.state.search.audiocloudTracks[n+1].id,s.state.search.audiocloudTracks[n+1].jump++):(s.state.search.audiocloudTracks[0].playing=!0,s.state.curPlayId=s.state.search.audiocloudTracks[0].id,s.state.search.audiocloudTracks[0].jump++)})));else switch(this.state.mode){case"u":var n;if(this.filteredUserTracks.length)if(-1==t)if(this.state.shuffle)this.filteredUserTracks[n=Math.random()*this.filteredUserTracks.length|0].playing=!0,this.filteredUserTracks[n].jump++,this.state.curPlayId=this.filteredUserTracks[n].id;else this.filteredUserTracks[0].playing=!0,this.filteredUserTracks[0].jump++;else this.filteredUserTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.filteredUserTracks.length|0)==e&&s.filteredUserTracks.length>1);s.filteredUserTracks[o].playing=!0,s.state.curPlayId=s.filteredUserTracks[o].id,s.filteredUserTracks[o].jump++}else n<s.filteredUserTracks.length-1?(s.filteredUserTracks[n+1].playing=!0,s.state.curPlayId=s.filteredUserTracks[n+1].id,s.filteredUserTracks[n+1].jump++):(s.filteredUserTracks[0].playing=!0,s.state.curPlayId=s.filteredUserTracks[0].id,s.filteredUserTracks[0].jump++)}));break;case"track":this.state.tracks[0].playing=!0;break;case"embed":this.state.tracks[0].playing=!0;break;case"default":var o;if(this.state.landingPage.audiocloudTracks.length)if(-1==t)if(this.state.shuffle)this.state.landingPage.audiocloudTracks[o=Math.random()*this.state.landingPage.audiocloudTracks.length|0].playing=!0,this.state.landingPage.audiocloudTracks[o].jump++,this.state.curPlayId=this.state.landingPage.audiocloudTracks[o].id;else this.state.landingPage.audiocloudTracks[0].playing=!0,this.state.curPlayId=this.state.landingPage.audiocloudTracks[0].id,this.state.landingPage.audiocloudTracks[0].jump++;else this.state.landingPage.audiocloudTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.state.landingPage.audiocloudTracks.length|0)==e&&s.state.landingPage.audiocloudTracks.length>1);s.state.landingPage.audiocloudTracks[o].playing=!0,s.state.curPlayId=s.state.landingPage.audiocloudTracks[o].id,s.state.landingPage.audiocloudTracks[o].jump++}else n<s.state.landingPage.audiocloudTracks.length-1?(s.state.landingPage.audiocloudTracks[n+1].playing=!0,s.state.curPlayId=s.state.landingPage.audiocloudTracks[n+1].id,s.state.landingPage.audiocloudTracks[n+1].jump++):(s.state.landingPage.audiocloudTracks[0].playing=!0,s.state.curPlayId=s.state.landingPage.audiocloudTracks[0].id,s.state.landingPage.audiocloudTracks[0].jump++)}));break}},playPauseCurrentTrack:function(){var t,e=this;if(this.state.curPlayId||this.playNextTrack(),this.state.search.string)t=this.state.search.audiocloudTracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);else switch(this.state.mode){case"u":t=this.state.user.audiocloudTracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);break;case"track":t=this.state.tracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);break;case"embed":t=this.state.tracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);break;case"default":t=this.state.landingPage.audiocloudTracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);break}},playPreviousTrack:function(){var t,e,a,s=this;if(this.currentPlayingTracks.length?(t=this.currentPlayingTracks[0].id,e=this.currentPlayingTracks[0].idx,this.currentPlayingTracks[0].mp3.currentTime=0,this.currentPlayingTracks[0].playing=!1):t=-1,this.state.search.string)this.state.search.audiocloudTracks.length&&(-1==t?this.state.shuffle?(this.state.search.audiocloudTracks[a=Math.random()*this.state.search.audiocloudTracks.length|0].playing=!0,this.state.search.audiocloudTracks[a].jump++):(this.state.search.audiocloudTracks[0].playing=!0,this.state.search.audiocloudTracks[0].jump++):this.state.search.audiocloudTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.state.search.audiocloudTracks.length|0)==e&&s.state.search.audiocloudTracks.length>1);s.state.search.audiocloudTracks[o].playing=!0,s.state.search.audiocloudTracks[o].jump++}else n?(s.state.search.audiocloudTracks[n-1].playing=!0,s.state.search.audiocloudTracks[n-1].jump++):(s.state.search.audiocloudTracks[s.state.search.audiocloudTracks.length-1].playing=!0,s.state.search.audiocloudTracks[s.state.search.audiocloudTracks.length-1].jump++)})));else switch(this.state.mode){case"u":var n;if(this.filteredUserTracks.length)if(-1==t)if(this.state.shuffle)this.filteredUserTracks[n=Math.random()*this.filteredUserTracks.length|0].playing=!0,this.filteredUserTracks[n].jump++;else this.filteredUserTracks[0].playing=!0,this.filteredUserTracks[0].jump++;else this.filteredUserTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.filteredUserTracks.length|0)==e&&s.filteredUserTracks.length>1);s.filteredUserTracks[o].playing=!0,s.filteredUserTracks[o].jump++}else n?(s.filteredUserTracks[n-1].playing=!0,s.filteredUserTracks[n-1].jump++):(s.filteredUserTracks[s.filteredUserTracks.length-1].playing=!0,s.filteredUserTracks[s.filteredUserTracks.length-1].jump++)}));break;case"track":this.state.tracks[0].playing=!0;break;case"embed":this.state.tracks[0].playing=!0;break;case"default":var o;if(this.state.landingPage.audiocloudTracks.length)if(-1==t)if(this.state.shuffle)this.state.landingPage.audiocloudTracks[o=Math.random()*this.state.landingPage.audiocloudTracks.length|0].playing=!0,this.state.landingPage.audiocloudTracks[o].jump++;else this.state.landingPage.audiocloudTracks[0].playing=!0,this.state.landingPage.audiocloudTracks[0].jump++;else this.state.landingPage.audiocloudTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.state.landingPage.audiocloudTracks.length|0)==e&&s.state.landingPage.audiocloudTracks.length>1);s.state.landingPage.audiocloudTracks[o].playing=!0,s.state.landingPage.audiocloudTracks[o].jump++}else n?(s.state.landingPage.audiocloudTracks[n-1].playing=!0,s.state.landingPage.audiocloudTracks[n-1].jump++):(s.state.landingPage.audiocloudTracks[s.state.landingPage.audiocloudTracks.length-1].playing=!0,s.state.landingPage.audiocloudTracks[s.state.landingPage.audiocloudTracks.length-1].jump++)}));break}},doSearch:function(t,e){var a=this;this.state.search.audiocloudTracks=[],this.state.search.timerHandle=null;var s={string:t.trim(),loggedinUserName:this.state.loggedinUserName,page:this.state.curPage,allWords:this.state.search.allWords,exact:this.state.search.exact,passhash:this.state.passhash,maxResultsPerPage:this.state.maxResultsPerPage};this.state.exactClicked=!0,fetch(this.state.baseURL+"/search.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(t){switch(t[0]=t[0].map((function(t){return t.playing=!1,t.private=!!+t.private,t.allowDownload=!!+t.allowDownload,a.state.incrementViews(t.id),a.state.loadUserData(t.author),t.comments=t.comments.map((function(t){return t.updated=!1,t.editing=!1,a.state.fetchUserData(t.userID),t})),t})),a.state.search.string&&(a.state.search.hits=+t[3]),a.state.search.audiocloudTracks=t[0],a.state.mode){case"u":a.state.totalUserPages=+t[1],a.state.curUserPage&&a.state.curUserPage+1>a.state.totalUserPages&&a.lastPage();break;case"default":a.state.totalPages=+t[1],a.state.curPage&&a.state.curPage+1>a.state.totalPages&&a.lastPage();break;case"track":a.state.totalPages=+t[1],a.state.curPage&&a.state.curPage+1>a.state.totalPages&&a.lastPage();break;case"embed":a.state.totalPages=+t[1],a.state.curPage&&a.state.curPage+1>a.state.totalPages&&a.lastPage();break}a.state.loaded=!0,a.state.playall&&a.playNextTrack(),a.state.search.inProgress=!1}))},beginSearch:function(t){var e=this;if(" "!=this.state.search.string.charAt(0)){this.state.search.inProgress=!0,t?(history.pushState(null,null,window.location.origin+"/1"+(this.state.search.string?"/":"")+this.state.search.string),this.state.curPage=0):history.pushState(null,null,window.location.origin+"/"+(this.state.curPage+1)+"/"+this.state.search.string);var a=(new Date).getTime();null!=this.state.search.timerHandle&&clearTimeout(this.state.search.timerHandle);var s=this.state.search.string;this.state.search.timerHandle=setTimeout((function(){e.doSearch(s,t),e.state.search.timer=a}),Math.min(1e3,a-this.state.search.timer))}else this.state.search.string=this.state.search.string.trim()},loadHotKeys:function(){var t=this;window.addEventListener("keydown",(function(e){if(27==e.keyCode&&t.state.showControlsToggleTimer<(new Date).getTime()&&(t.state.showControlsToggleTimer=(new Date).getTime()+100,e.preventDefault(),e.stopPropagation(),t.toggleShowControls()),13==e.keyCode&&"track"!==t.state.mode&&"embed"!==t.state.mode&&(document.activeElement.classList.contains("textInput")||(e.preventDefault(),e.stopPropagation(),t.state.jumpToPlayingTrack())),37==e.keyCode&&!document.activeElement.classList.contains("textInput")){e.preventDefault(),e.stopPropagation();var a,s=t.currentPlayingTracks;if(e.shiftKey)(a=t.currentPlayingTracks).length&&(a[0].mp3.currentTime=Math.max(0,a[0].mp3.currentTime-10));else s.length&&s[0].mp3.currentTime>s[0].mp3.duration/20?s[0].mp3.currentTime=0:t.state.playPreviousTrack()}var n,o;39==e.keyCode&&(document.activeElement.classList.contains("textInput")||(e.preventDefault(),e.stopPropagation(),e.shiftKey?(n=t.currentPlayingTracks).length&&(n[0].mp3.currentTime=Math.min(n[0].mp3.duration,n[0].mp3.currentTime+10)):(o=t.currentPlayingTracks).length&&(o[0].mp3.currentTime=Math.min(o[0].mp3.duration,o[0].mp3.duration))));32==e.keyCode&&(document.activeElement.classList.contains("textInput")||(e.preventDefault(),e.stopPropagation(),t.state.playPauseCurrentTrack()))}))},jumpToPlayingTrack:function(){var t;(t=this.state.currentTrack()).length&&t[0].jump++},currentTrack:function(){if(this.state.search.string)return this.state.search.audiocloudTracks.filter((function(t){return t.playing}));switch(this.state.mode){case"u":return this.filteredUserTracks.filter((function(t){return t.playing}));case"track":return this.state.tracks.filter((function(t){return t.playing}));case"embed":return this.state.tracks.filter((function(t){return t.playing}));case"default":return this.state.landingPage.audiocloudTracks.filter((function(t){return t.playing}))}}},computed:{currentPlayingTracks:function(){if(this.state.search.string)return this.state.search.audiocloudTracks=this.state.search.audiocloudTracks.map((function(t,e){return t.idx=e,t})),this.state.search.audiocloudTracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.state.search.audiocloudTracks.filter((function(t){return t.playing}))[0].id),this.state.search.audiocloudTracks.filter((function(t){return t.playing}));switch(this.state.mode){case"u":return this.state.user.audiocloudTracks=this.state.user.audiocloudTracks.map((function(t,e){return t.idx=e,t})),this.filteredUserTracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.filteredUserTracks.filter((function(t){return t.playing}))[0].id),this.filteredUserTracks.filter((function(t){return t.playing}));case"track":return this.state.tracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.state.tracks.filter((function(t){return t.playing}))[0].id),this.state.tracks.filter((function(t){return t.playing}));case"embed":return this.state.tracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.state.tracks.filter((function(t){return t.playing}))[0].id),this.state.tracks.filter((function(t){return t.playing}));case"default":return this.state.landingPage.audiocloudTracks=this.state.landingPage.audiocloudTracks.map((function(t,e){return t.idx=e,t})),this.state.landingPage.audiocloudTracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.state.landingPage.audiocloudTracks.filter((function(t){return t.playing}))[0].id),this.state.landingPage.audiocloudTracks.filter((function(t){return t.playing}))}},filteredUserTracks:function(){var t=this;return null!=this.state.user&&"undefined"!==typeof this.state.user.audiocloudTracks?this.state.user.audiocloudTracks.filter((function(e){return!e.private||t.state.loggedinUserName.toUpperCase()==t.state.user.name.toUpperCase()||t.state.isAdmin})):[]}},watch:(Po={"state.search.string":function(t){t||(this.state.search.hits=0)},"state.search.exact":function(t){document.cookie="exactSearch="+this.state.search.exact+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},"state.search.allWords":function(t){document.cookie="allWords="+this.state.search.allWords+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},"state.shuffle":function(t){}},Object(c["a"])(Po,"state.shuffle",(function(t){document.cookie="shuffle="+this.state.shuffle+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain})),Object(c["a"])(Po,"state.playall",(function(t){t?this.state.loaded&&this.playNextTrack():this.state.pauseVisible(),document.cookie="autoplay="+this.state.playall+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain})),Object(c["a"])(Po,"state.showUploadModal",(function(t){document.getElementsByTagName("html")[0].style.overflow=t?"hidden":"initial"})),Po),mounted:function(){var t=this;this.loadHotKeys(),setInterval((function(){t.state.globalT+=1/60}),16),this.state.userAgent=navigator.userAgent,this.state.playPauseCurrentTrack=this.playPauseCurrentTrack,this.state.toggleShowControls=this.toggleShowControls,this.state.filteredUserTracks=this.filteredUserTracks,this.state.jumpToPlayingTrack=this.jumpToPlayingTrack,this.state.playPreviousTrack=this.playPreviousTrack,this.state.showUserSettings=this.showUserSettings,this.state.showLoginPrompt=this.showLoginPrompt,this.state.incrementViews=this.incrementViews,this.state.openFullscreen=this.openFullscreen,this.state.fetchUserData=this.fetchUserData,this.state.playNextTrack=this.playNextTrack,this.state.closePrompts=this.closePrompts,this.state.pauseVisible=this.pauseVisible,this.state.loadUserData=this.loadUserData,this.state.checkEnabled=this.checkEnabled,this.state.currentTrack=this.currentTrack,this.state.advancePage=this.advancePage,this.state.beginSearch=this.beginSearch,this.state.regressPage=this.regressPage,this.state.toggleLogin=this.toggleLogin,this.state.jumpToPage=this.jumpToPage,this.state.decToAlpha=this.decToAlpha,this.state.alphaToDec=this.alphaToDec,this.state.firstPage=this.firstPage,this.state.setCookie=this.setCookie,this.state.getAvatar=this.getAvatar,this.state.lastPage=this.lastPage,this.state.goHome=this.goHome,this.state.logout=this.logout,this.state.login=this.login,this.checkLogin();var e=(new Date).getTime();setInterval((function(){if(t.state.disco){var a=((new Date).getTime()-e)/10+200;document.getElementsByTagName("body")[0].style.backgroundColor="hsla(".concat(a,", 99%, 3%, 1)"),"embed"!==t.state.mode&&(document.getElementById("header").style.background="linear-gradient(90deg, hsla(".concat(a,", 99%, 1%, .9), hsla(").concat(a,", 60%, 15%, .8)")),document.getElementById("footerBar").style.background="linear-gradient(90deg, hsla(".concat(a,", 99%, 1%, 1), hsla(").concat(a,", 60%, 5%, .7)")}}),100),this.preloadImages=["https://jsbot.cantelope.org/uploads/2ftyk1.png","https://jsbot.cantelope.org/uploads/BGNlv.png","https://jsbot.cantelope.org/uploads/FU3vq.png","https://jsbot.cantelope.org/uploads/zAYeB.png","https://jsbot.cantelope.org/uploads/XeGsK.png","https://jsbot.cantelope.org/uploads/XeGsK.png","https://jsbot.cantelope.org/uploads/ct1hv.png","https://jsbot.cantelope.org/uploads/2kPCX5.png","https://jsbot.cantelope.org/uploads/14MAyj.png","https://jsbot.cantelope.org/uploads/20SIWe.png","https://jsbot.cantelope.org/uploads/6aevA.png","https://jsbot.cantelope.org/uploads/1RptlQ.png","https://jsbot.cantelope.org/uploads/v9UDT.png","https://jsbot.cantelope.org/uploads/1tgOjR.png"],this.preloadImages.map((function(t){var e=new Image;return e.src=t,t}))}};a("9477");const Uo=Qe()(xo,[["render",i]]);var Ao=Uo,Co=Object(s["c"])(Ao);Co.directive("linkified",o.a),Co.mount("#app")},5937:function(t,e,a){},"615e":function(t,e,a){},"939c":function(t,e){t.exports="data:image/png;base64,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"},9477:function(t,e,a){"use strict";a("9505")},9505:function(t,e,a){},"9afb":function(t,e,a){t.exports=a.p+"img/email.81f8a513.png"},"9b23":function(t,e,a){},a561:function(t,e,a){},ad28:function(t,e,a){"use strict";a("39e6")},ad78:function(t,e,a){},af21:function(t,e,a){"use strict";a("d5cb")},b80c:function(t,e,a){},d5cb:function(t,e,a){},d9b6:function(t,e,a){"use strict";a("b80c")},dda3:function(t,e,a){"use strict";a("ad78")},e8ae:function(t,e,a){"use strict";a("49d7")},edbf:function(t,e){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=app.a65cca8f.js.map